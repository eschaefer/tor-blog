---
layout: post
title: "New OpenSSL vulnerability; Tor not affected"
permalink: new-openssl-vulnerability-tor-not-affected
date: 2010-11-16 10:12:00
author: nickm
category: blog
status: closed
tags: ["analysis", "bugs", "openssl", "security"]
---

There's a new buffer overflow vulnerability in versions of OpenSSL from 0.9.8f through 0.9.8o, and 1.0.0 through 1.0.0a. You can read [the security advisory](http://openssl.org/news/secadv_20101116.txt) for the whole story.

So far as we can tell from our current analysis, Tor is **not** affected. Here's why:

The advisory says:

> Any OpenSSL based TLS server is vulnerable if it is multi-threaded and uses OpenSSL's internal caching mechanism. Servers that are multi-process and/or disable internal session caching are NOT affected.

Tor qualifies for **both** of the safe cases: Tor *does* disable OpenSSL's internal session caching. This happens in the file src/common/tortls.c, when we call `SSL_CTX_set_session_cache_mode(result->ctx,SSL_SESS_CACHE_OFF)`. Tor has done this since since version 0.0.2pre6 back in 2003. [**read more »**](https://blog.torproject.org/blog/new-openssl-vulnerability-tor-not-affected)
