<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Tor 0.2.1.7-alpha released</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Tor 0.2.1.7-alpha released</h2>
<p class="meta">21 Nov 2008</p>

<div class="post">
<p>Tor 0.2.1.7-alpha fixes a major security problem in Debian and Ubuntu<br>
packages (and maybe other packages) noticed by Theo de Raadt, fixes<br>
a smaller security flaw that might allow an attacker to access local<br>
services, adds better defense against DNS poisoning attacks on exit<br>
relays, further improves hidden service performance, and fixes a variety<br>
of other issues.</p>

<p><a href="https://www.torproject.org/download" title="https://www.torproject.org/download">https://www.torproject.org/download</a></p>

<p>Changes in version 0.2.1.7-alpha - 2008-11-08</p>

<p><strong>Security fixes:</strong></p>

<ul>
<li>The &quot;ClientDNSRejectInternalAddresses&quot; config option wasn&#39;t being<br>
consistently obeyed: if an exit relay refuses a stream because its<br>
exit policy doesn&#39;t allow it, we would remember what IP address<br>
the relay said the destination address resolves to, even if it&#39;s<br>
an internal IP address. Bugfix on 0.2.0.7-alpha; patch by rovv.</li>
<li>The &quot;User&quot; and &quot;Group&quot; config options did not clear the<br>
supplementary group entries for the Tor process. The &quot;User&quot; option<br>
is now more robust, and we now set the groups to the specified<br>
user&#39;s primary group. The &quot;Group&quot; option is now ignored. For more<br>
detailed logging on credential switching, set CREDENTIAL_LOG_LEVEL<br>
in common/compat.c to LOG_NOTICE or higher. Patch by Jacob Appelbaum<br>
and Steven Murdoch. Bugfix on 0.0.2pre14. Fixes bug 848.</li>
<li>Do not use or believe expired v3 authority certificates. Patch<br>
from Karsten. Bugfix in 0.2.0.x. Fixes bug 851.</li>
</ul>

<p><strong>Minor features:</strong></p>

<ul>
<li>Now NodeFamily and MyFamily config options allow spaces in<br>
identity fingerprints, so it&#39;s easier to paste them in.<br>
Suggested by Lucky Green.</li>
<li>Implement the 0x20 hack to better resist DNS poisoning: set the<br>
case on outgoing DNS requests randomly, and reject responses that do<br>
not match the case correctly. This logic can be disabled with the<br>
ServerDNSRamdomizeCase setting, if you are using one of the 0.3%<br>
of servers that do not reliably preserve case in replies. See<br>
&quot;Increased DNS Forgery Resistance through 0x20-Bit Encoding&quot;<br>
for more info.</li>
<li>Preserve case in replies to DNSPort requests in order to support<br>
the 0x20 hack for resisting DNS poisoning attacks.</li>
</ul>

<p><strong>Hidden service performance improvements:</strong></p>

<ul>
<li>When the client launches an introduction circuit, retry with a<br>
new circuit after 30 seconds rather than 60 seconds.</li>
<li>Launch a second client-side introduction circuit in parallel<br>
after a delay of 15 seconds (based on work by Christian Wilms).</li>
<li>Hidden services start out building five intro circuits rather<br>
than three, and when the first three finish they publish a service<br>
descriptor using those. Now we publish our service descriptor much<br>
faster after restart.</li>
</ul>

<p><strong>Minor bugfixes:</strong></p>

<ul>
<li>Minor fix in the warning messages when you&#39;re having problems<br>
bootstrapping; also, be more forgiving of bootstrap problems when<br>
we&#39;re still making incremental progress on a given bootstrap phase.</li>
<li>When we&#39;re choosing an exit node for a circuit, and we have<br>
no pending streams, choose a good general exit rather than one that<br>
supports &quot;all the pending streams&quot;. Bugfix on 0.1.1.x. Fix by rovv.</li>
<li>Send a valid END cell back when a client tries to connect to a<br>
nonexistent hidden service port. Bugfix on 0.1.2.15. Fixes bug<br>

<ol>
<li>Patch from rovv.</li>
</ol></li>
<li>If a broken client asks a non-exit router to connect somewhere,<br>
do not even do the DNS lookup before rejecting the connection.<br>
Fixes another case of bug 619. Patch from rovv.</li>
<li>Fix another case of assuming, when a specific exit is requested,<br>
that we know more than the user about what hosts it allows.<br>
Fixes another case of bug 752. Patch from rovv.</li>
<li>Check which hops rendezvous stream cells are associated with to<br>
prevent possible guess-the-streamid injection attacks from<br>
intermediate hops. Fixes another case of bug 446. Based on patch<br>
from rovv.</li>
<li>Avoid using a negative right-shift when comparing 32-bit<br>
addresses. Possible fix for bug 845 and bug 811.</li>
<li>Make the assert_circuit_ok() function work correctly on circuits that<br>
have already been marked for close.</li>
<li>Fix read-off-the-end-of-string error in unit tests when decoding<br>
introduction points.</li>
<li>Fix uninitialized size field for memory area allocation: may improve<br>
memory performance during directory parsing.</li>
<li>Treat duplicate certificate fetches as failures, so that we do<br>
not try to re-fetch an expired certificate over and over and over.</li>
<li>Do not say we&#39;re fetching a certificate when we&#39;ll in fact skip it<br>
because of a pending download.</li>
</ul>

<p>The original announcement can be found at <a href="http://archives.seul.org/or/talk/Nov-2008/msg00229.html" title="http://archives.seul.org/or/talk/Nov-2008/msg00229.html">http://archives.seul.org/or/talk/Nov-2008/msg00229.html</a></p>

</div>
<p>- phobos</p>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
