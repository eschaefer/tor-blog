<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tor 0.2.2.16-alpha released</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <a href="/"><img class="tor-logo" src="/assets/images/tor_logo.png" alt="Tor logo" /></a>
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>

            <!-- A wrapper for all the blog posts -->
<div class="posts">

  <div id="home">
      <section class="post">
        <header class="post-header">
          <h2 class="post-title"> <a href="">Tor 0.2.2.16-alpha released</a></h2>
          <p class="post-meta">
              By <a class="post-author" href="#">phobos</a> under
              
                <a class="post-category post-category-js" href="#">alpha release</a>
              
                <a class="post-category post-category-js" href="#">enhancements</a>
               |
              22 Sep 2010
          </p>
        </header>
        <div class="post-description">
          <p>Tor 0.2.2.16-alpha fixes a variety of old stream fairness bugs (most
evident at exit relays), and also continues to resolve all the little
bugs that have been filling up the bug tracker lately.</p>

<p><a href="https://www.torproject.org/download.html.en" title="https://www.torproject.org/download.html.en">https://www.torproject.org/download.html.en</a></p>

<p>Packages will be appearing over the next few days or weeks (except
on Windows, which apparently doesn&#39;t build -- stay tuned for an
0.2.2.17-alpha in that case).</p>

<p>Changes in version 0.2.2.16-alpha - 2010-09-17
 o Major bugfixes (stream-level fairness):
 - When receiving a circuit-level SENDME for a blocked circuit, try
 to package cells fairly from all the streams that had previously
 been blocked on that circuit. Previously, we had started with the
 oldest stream, and allowed each stream to potentially exhaust
 the circuit&#39;s package window. This gave older streams on any
 given circuit priority over newer ones. Fixes bug 1937. Detected
 originally by Camilo Viecco. This bug was introduced before the
 first Tor release, in svn commit r152: it is the new winner of
 the longest-lived bug prize.
 - When the exit relay got a circuit-level sendme cell, it started
 reading on the exit streams, even if had 500 cells queued in the
 circuit queue already, so the circuit queue just grew and grew in
 some cases. We fix this by not re-enabling reading on receipt of a
 sendme cell when the cell queue is blocked. Fixes bug 1653. Bugfix
 on 0.2.0.1-alpha. Detected by Mashael AlSabah. Original patch by
 &quot;yetonetime&quot;.
 - Newly created streams were allowed to read cells onto circuits,
 even if the circuit&#39;s cell queue was blocked and waiting to drain.
 This created potential unfairness, as older streams would be
 blocked, but newer streams would gladly fill the queue completely.
 We add code to detect this situation and prevent any stream from
 getting more than one free cell. Bugfix on 0.2.0.1-alpha. Partially
 fixes bug 1298.</p>

<p>o Minor features:
 - Update to the September 1 2010 Maxmind GeoLite Country database.
 - Warn when CookieAuthFileGroupReadable is set but CookieAuthFile is
 not. This would lead to a cookie that is still not group readable.
 Closes bug 1843. Suggested by katmagic.
 - When logging a rate-limited warning, we now mention how many messages
 got suppressed since the last warning.
 - Add new &quot;perconnbwrate&quot; and &quot;perconnbwburst&quot; consensus params to
 do individual connection-level rate limiting of clients. The torrc
 config options with the same names trump the consensus params, if
 both are present. Replaces the old &quot;bwconnrate&quot; and &quot;bwconnburst&quot;
 consensus params which were broken from 0.2.2.7-alpha through
 0.2.2.14-alpha. Closes bug 1947.
 - When a router changes IP address or port, authorities now launch
 a new reachability test for it. Implements ticket 1899.
 - Make the formerly ugly &quot;2 unknown, 7 missing key, 0 good, 0 bad,
 2 no signature, 4 required&quot; messages about consensus signatures
 easier to read, and make sure they get logged at the same severity
 as the messages explaining which keys are which. Fixes bug 1290.
 - Don&#39;t warn when we have a consensus that we can&#39;t verify because
 of missing certificates, unless those certificates are ones
 that we have been trying and failing to download. Fixes bug 1145.
 - If you configure your bridge with a known identity fingerprint,
 and the bridge authority is unreachable (as it is in at least
 one country now), fall back to directly requesting the descriptor
 from the bridge. Finishes the feature started in 0.2.0.10-alpha;
 closes bug 1138.
 - When building with --enable-gcc-warnings on OpenBSD, disable
 warnings in system headers. This makes --enable-gcc-warnings
 pass on OpenBSD 4.8.</p>

<p>o Minor bugfixes (on 0.2.1.x and earlier):
 - Authorities will now attempt to download consensuses if their
 own efforts to make a live consensus have failed. This change
 means authorities that restart will fetch a valid consensus, and
 it means authorities that didn&#39;t agree with the current consensus
 will still fetch and serve it if it has enough signatures. Bugfix
 on 0.2.0.9-alpha; fixes bug 1300.
 - Ensure DNS requests launched by &quot;RESOLVE&quot; commands from the
 controller respect the __LeaveStreamsUnattached setconf options. The
 same goes for requests launched via DNSPort or transparent
 proxying. Bugfix on 0.2.0.1-alpha; fixes bug 1525.
 - Allow handshaking OR connections to take a full KeepalivePeriod
 seconds to handshake. Previously, we would close them after
 IDLE_OR_CONN_TIMEOUT (180) seconds, the same timeout as if they
 were open. Bugfix on 0.2.1.26; fixes bug 1840. Thanks to mingw-san
 for analysis help.
 - Rate-limit &quot;Failed to hand off onionskin&quot; warnings.
 - Never relay a cell for a circuit we have already destroyed.
 Between marking a circuit as closeable and finally closing it,
 it may have been possible for a few queued cells to get relayed,
 even though they would have been immediately dropped by the next
 OR in the circuit. Fixes bug 1184; bugfix on 0.2.0.1-alpha.
 - Never queue a cell for a circuit that&#39;s already been marked
 for close.
 - Never vote for a server as &quot;Running&quot; if we have a descriptor for
 it claiming to be hibernating, and that descriptor was published
 more recently than our last contact with the server. Bugfix on
 0.2.0.3-alpha; fixes bug 911.
 - Squash a compile warning on OpenBSD. Reported by Tas; fixes
 bug 1848.</p>

<p>o Minor bugfixes (on 0.2.2.x):
 - Fix a regression introduced in 0.2.2.7-alpha that marked relays
 down if a directory fetch fails and you&#39;ve configured either
 bridges or EntryNodes. The intent was to mark the relay as down
 _unless_ you&#39;re using bridges or EntryNodes, since if you are
 then you could quickly run out of entry points.
 - Fix the Windows directory-listing code. A bug introduced in
 0.2.2.14-alpha could make Windows directory servers forget to load
 some of their cached v2 networkstatus files.
 - Really allow clients to use relays as bridges. Fixes bug 1776;
 bugfix on 0.2.2.15-alpha.
 - Demote a warn to info that happens when the CellStatistics option
 was just enabled. Bugfix on 0.2.2.15-alpha; fixes bug 1921.
 Reported by Moritz Bartl.
 - On Windows, build correctly either with or without Unicode support.
 This is necessary so that Tor can support fringe platforms like
 Windows 98 (which has no Unicode), or Windows CE (which has no
 non-Unicode). Bugfix on 0.2.2.14-alpha; fixes bug 1797.</p>

<p>o Testing
 - Add a unit test for cross-platform directory-listing code.</p>

<p>The original announcement is <a href="http://archives.seul.org/or/talk/Sep-2010/msg00108.html" title="http://archives.seul.org/or/talk/Sep-2010/msg00108.html">http://archives.seul.org/or/talk/Sep-2010/msg00108.html</a></p>

        </div>
      </section>
  </div>

</div>

<div class="comments"></div>

<script type="text/javascript" class="juvia">
(function() {
    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/blog/tor-02216-alpha-released',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://secure-fortress-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);
    (document.getElementsByTagName('head')[0] ||
     document.getElementsByTagName('body')[0]).appendChild(s);
})();
</script>


            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
