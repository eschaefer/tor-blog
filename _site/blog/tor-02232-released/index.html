<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Tor 0.2.2.32 is released</title>
    <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/blog/tor-02232-released">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">The Tor Project Blog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
	<a class="page-link" href="/">Blog Home</a>
        <a class="page-link" href="/archives">Archives</a>
	<a class="page-link" href="https://www.torproject.org/about/overview">About Tor</a>
        <a class="page-link donate" href="https://www.torproject.org/donate/donate">Donate</a>

      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <!-- Pages with side column need a 'maincol' class -->
<div class="post maincol">

  <header class="post-header">
    <h1 class="post-title">Tor 0.2.2.32 is released</h1>
    <p class="post-meta">Aug 30, 2011 • erinn</p>
  </header>

  <article class="post-content">
    <p>The Tor 0.2.2 release series is dedicated to the memory of Andreas
Pfitzmann (1958-2010), a pioneer in anonymity and privacy research,
a founder of the PETS community, a leader in our field, a mentor,
and a friend. He left us with these words: &quot;I had the possibility
to contribute to this world that is not as it should be. I hope I
could help in some areas to make the world a better place, and that
I could also encourage other people to be engaged in improving the
world. Please, stay engaged. This world needs you, your love, your
initiative -- now I cannot be part of that anymore.&quot;</p>

<p>Tor 0.2.2.32, the first stable release in the 0.2.2 branch, is finally
ready. More than two years in the making, this release features improved
client performance and hidden service reliability, better compatibility
for Android, correct behavior for bridges that listen on more than
one address, more extensible and flexible directory object handling,
better reporting of network statistics, improved code security, and
many many other features and bugfixes.</p>

<p><a href="https://www.torproject.org/download/download" title="https://www.torproject.org/download/download">https://www.torproject.org/download/download</a></p>

<p>Changes in version 0.2.2.32 - 2011-08-27
<strong>Major features (client performance):</strong></p>

<ul>
<li>When choosing which cells to relay first, relays now favor circuits
that have been quiet recently, to provide lower latency for
low-volume circuits. By default, relays enable or disable this
feature based on a setting in the consensus. They can override
this default by using the new &quot;CircuitPriorityHalflife&quot; config
option. Design and code by Ian Goldberg, Can Tang, and Chris
Alexander.</li>
<li>Directory authorities now compute consensus weightings that instruct
clients how to weight relays flagged as Guard, Exit, Guard+Exit,
and no flag. Clients use these weightings to distribute network load
more evenly across these different relay types. The weightings are
in the consensus so we can change them globally in the future. Extra
thanks to &quot;outofwords&quot; for finding some nasty security bugs in
the first implementation of this feature.</li>
</ul>

<p><strong>Major features (client performance, circuit build timeout):</strong></p>

<ul>
<li>Tor now tracks how long it takes to build client-side circuits
over time, and adapts its timeout to local network performance.
Since a circuit that takes a long time to build will also provide
bad performance, we get significant latency improvements by
discarding the slowest 20% of circuits. Specifically, Tor creates
circuits more aggressively than usual until it has enough data
points for a good timeout estimate. Implements proposal 151.</li>
<li>Circuit build timeout constants can be controlled by consensus
parameters. We set good defaults for these parameters based on
experimentation on broadband and simulated high-latency links.</li>
<li>Circuit build time learning can be disabled via consensus parameter
or by the client via a LearnCircuitBuildTimeout config option. We
also automatically disable circuit build time calculation if either
AuthoritativeDirectory is set, or if we fail to write our state
file. Implements ticket 1296.</li>
</ul>

<p><strong>Major features (relays use their capacity better):</strong></p>

<ul>
<li>Set SO_REUSEADDR socket option on all sockets, not just
listeners. This should help busy exit nodes avoid running out of
useable ports just because all the ports have been used in the
near past. Resolves issue 2850.</li>
<li>Relays now save observed peak bandwidth throughput rates to their
state file (along with total usage, which was already saved),
so that they can determine their correct estimated bandwidth on
restart. Resolves bug 1863, where Tor relays would reset their
estimated bandwidth to 0 after restarting.</li>
<li>Lower the maximum weighted-fractional-uptime cutoff to 98%. This
should give us approximately 40-50% more Guard-flagged nodes,
improving the anonymity the Tor network can provide and also
decreasing the dropoff in throughput that relays experience when
they first get the Guard flag.</li>
<li>Directory authorities now take changes in router IP address and
ORPort into account when determining router stability. Previously,
if a router changed its IP or ORPort, the authorities would not
treat it as having any downtime for the purposes of stability
calculation, whereas clients would experience downtime since the
change would take a while to propagate to them. Resolves issue 1035.</li>
<li>New AccelName and AccelDir options add support for dynamic OpenSSL
hardware crypto acceleration engines.</li>
</ul>

<p><strong>Major features (relays control their load better):</strong></p>

<ul>
<li>Exit relays now try harder to block exit attempts from unknown
relays, to make it harder for people to use them as one-hop proxies
a la tortunnel. Controlled by the refuseunknownexits consensus
parameter (currently enabled), or you can override it on your
relay with the RefuseUnknownExits torrc option. Resolves bug 1751;
based on a variant of proposal 163.</li>
<li>Add separate per-conn write limiting to go with the per-conn read
limiting. We added a global write limit in Tor 0.1.2.5-alpha,
but never per-conn write limits.</li>
<li>New consensus params &quot;bwconnrate&quot; and &quot;bwconnburst&quot; to let us
rate-limit client connections as they enter the network. It&#39;s
controlled in the consensus so we can turn it on and off for
experiments. It&#39;s starting out off. Based on proposal 163.</li>
</ul>

<p><strong>Major features (controllers):</strong></p>

<ul>
<li>Export GeoIP information on bridge usage to controllers even if we
have not yet been running for 24 hours. Now Vidalia bridge operators
can get more accurate and immediate feedback about their
contributions to the network.</li>
<li>Add an __OwningControllerProcess configuration option and a
TAKEOWNERSHIP control-port command. Now a Tor controller can ensure
that when it exits, Tor will shut down. Implements feature 3049.</li>
</ul>

<p><strong>Major features (directory authorities):</strong></p>

<ul>
<li>Directory authorities now create, vote on, and serve multiple
parallel formats of directory data as part of their voting process.
Partially implements Proposal 162: &quot;Publish the consensus in
multiple flavors&quot;.</li>
<li>Directory authorities now agree on and publish small summaries
of router information that clients can use in place of regular
server descriptors. This transition will allow Tor 0.2.3 clients
to use far less bandwidth for downloading information about the
network. Begins the implementation of Proposal 158: &quot;Clients
download consensus + microdescriptors&quot;.</li>
<li>The directory voting system is now extensible to use multiple hash
algorithms for signatures and resource selection. Newer formats
are signed with SHA256, with a possibility for moving to a better
hash algorithm in the future.</li>
<li>Directory authorities can now vote on arbitary integer values as
part of the consensus process. This is designed to help set
network-wide parameters. Implements proposal 167.</li>
</ul>

<p><strong>Major features and bugfixes (node selection):</strong></p>

<ul>
<li>Revise and reconcile the meaning of the ExitNodes, EntryNodes,
ExcludeEntryNodes, ExcludeExitNodes, ExcludeNodes, and Strict*Nodes
options. Previously, we had been ambiguous in describing what
counted as an &quot;exit&quot; node, and what operations exactly &quot;StrictNodes
0&quot; would permit. This created confusion when people saw nodes built
through unexpected circuits, and made it hard to tell real bugs from
surprises. Now the intended behavior is:

<ul>
<li>&quot;Exit&quot;, in the context of ExitNodes and ExcludeExitNodes, means
a node that delivers user traffic outside the Tor network.</li>
<li>&quot;Entry&quot;, in the context of EntryNodes, means a node used as the
first hop of a multihop circuit. It doesn&#39;t include direct
connections to directory servers.</li>
<li>&quot;ExcludeNodes&quot; applies to all nodes.</li>
<li>&quot;StrictNodes&quot; changes the behavior of ExcludeNodes only. When
StrictNodes is set, Tor should avoid all nodes listed in
ExcludeNodes, even when it will make user requests fail. When
StrictNodes is *not* set, then Tor should follow ExcludeNodes
whenever it can, except when it must use an excluded node to
perform self-tests, connect to a hidden service, provide a
hidden service, fulfill a .exit request, upload directory
information, or fetch directory information.</li>
</ul></li>
</ul>

<p>Collectively, the changes to implement the behavior fix bug 1090.</p>

<ul>
<li>If EntryNodes, ExitNodes, ExcludeNodes, or ExcludeExitNodes
change during a config reload, mark and discard all our origin
circuits. This fix should address edge cases where we change the
config options and but then choose a circuit that we created before
the change.</li>
<li>Make EntryNodes config option much more aggressive even when
StrictNodes is not set. Before it would prepend your requested
entrynodes to your list of guard nodes, but feel free to use others
after that. Now it chooses only from your EntryNodes if any of
those are available, and only falls back to others if a) they&#39;re
all down and b) StrictNodes is not set.</li>
<li>Now we refresh your entry guards from EntryNodes at each consensus
fetch -- rather than just at startup and then they slowly rot as
the network changes.</li>
<li>Add support for the country code &quot;{??}&quot; in torrc options like
ExcludeNodes, to indicate all routers of unknown country. Closes
bug 1094.</li>
<li>ExcludeNodes now takes precedence over EntryNodes and ExitNodes: if
a node is listed in both, it&#39;s treated as excluded.</li>
<li>ExcludeNodes now applies to directory nodes -- as a preference if
StrictNodes is 0, or an absolute requirement if StrictNodes is 1.
Don&#39;t exclude all the directory authorities and set StrictNodes to 1
unless you really want your Tor to break.</li>
<li>ExcludeNodes and ExcludeExitNodes now override exit enclaving.</li>
<li>ExcludeExitNodes now overrides .exit requests.</li>
<li>We don&#39;t use bridges listed in ExcludeNodes.</li>
<li><p>When StrictNodes is 1:</p>

<ul>
<li>We now apply ExcludeNodes to hidden service introduction points
and to rendezvous points selected by hidden service users. This
can make your hidden service less reliable: use it with caution!</li>
<li>If we have used ExcludeNodes on ourself, do not try relay
reachability self-tests.</li>
<li>If we have excluded all the directory authorities, we will not
even try to upload our descriptor if we&#39;re a relay.</li>
<li>Do not honor .exit requests to an excluded node.</li>
</ul></li>
<li><p>When the set of permitted nodes changes, we now remove any mappings
introduced via TrackExitHosts to now-excluded nodes. Bugfix on
0.1.0.1-rc.</p></li>
<li><p>We never cannibalize a circuit that had excluded nodes on it, even
if StrictNodes is 0. Bugfix on 0.1.0.1-rc.</p></li>
<li><p>Improve log messages related to excluded nodes.</p></li>
</ul>

<p><strong>Major features (misc):</strong></p>

<ul>
<li>Numerous changes, bugfixes, and workarounds from Nathan Freitas
to help Tor build correctly for Android phones.</li>
<li>The options SocksPort, ControlPort, and so on now all accept a
value &quot;auto&quot; that opens a socket on an OS-selected port. A
new ControlPortWriteToFile option tells Tor to write its
actual control port or ports to a chosen file. If the option
ControlPortFileGroupReadable is set, the file is created as
group-readable. Now users can run two Tor clients on the same
system without needing to manually mess with parameters. Resolves
part of ticket 3076.</li>
<li>Tor now supports tunneling all of its outgoing connections over
a SOCKS proxy, using the SOCKS4Proxy and/or SOCKS5Proxy
configuration options. Code by Christopher Davis.</li>
</ul>

<p><strong>Code security improvements:</strong></p>

<ul>
<li>Replace all potentially sensitive memory comparison operations
with versions whose runtime does not depend on the data being
compared. This will help resist a class of attacks where an
adversary can use variations in timing information to learn
sensitive data. Fix for one case of bug 3122. (Safe memcmp
implementation by Robert Ransom based partially on code by DJB.)</li>
<li>Enable Address Space Layout Randomization (ASLR) and Data Execution
Prevention (DEP) by default on Windows to make it harder for
attackers to exploit vulnerabilities. Patch from John Brooks.</li>
<li>New &quot;--enable-gcc-hardening&quot; ./configure flag (off by default)
to turn on gcc compile time hardening options. It ensures
that signed ints have defined behavior (-fwrapv), enables
-D_FORTIFY_SOURCE=2 (requiring -O2), adds stack smashing protection
with canaries (-fstack-protector-all), turns on ASLR protection if
supported by the kernel (-fPIE, -pie), and adds additional security
related warnings. Verified to work on Mac OS X and Debian Lenny.</li>
<li>New &quot;--enable-linker-hardening&quot; ./configure flag (off by default)
to turn on ELF specific hardening features (relro, now). This does
not work with Mac OS X or any other non-ELF binary format.</li>
<li>Always search the Windows system directory for system DLLs, and
nowhere else. Bugfix on 0.1.1.23; fixes bug 1954.</li>
<li>New DisableAllSwap option. If set to 1, Tor will attempt to lock all
current and future memory pages via mlockall(). On supported
platforms (modern Linux and probably BSD but not Windows or OS X),
this should effectively disable any and all attempts to page out
memory. This option requires that you start your Tor as root --
if you use DisableAllSwap, please consider using the User option
to properly reduce the privileges of your Tor.</li>
</ul>

<p><strong>Major bugfixes (crashes):</strong></p>

<ul>
<li>Fix crash bug on platforms where gmtime and localtime can return
NULL. Windows 7 users were running into this one. Fixes part of bug

<ol>
<li>Bugfix on all versions of Tor. Found by boboper.</li>
</ol></li>
<li>Introduce minimum/maximum values that clients will believe
from the consensus. Now we&#39;ll have a better chance to avoid crashes
or worse when a consensus param has a weird value.</li>
<li>Fix a rare crash bug that could occur when a client was configured
with a large number of bridges. Fixes bug 2629; bugfix on
0.2.1.2-alpha. Bugfix by trac user &quot;shitlei&quot;.</li>
<li>Do not crash when our configuration file becomes unreadable, for
example due to a permissions change, between when we start up
and when a controller calls SAVECONF. Fixes bug 3135; bugfix
on 0.0.9pre6.</li>
<li>If we&#39;re in the pathological case where there&#39;s no exit bandwidth
but there is non-exit bandwidth, or no guard bandwidth but there
is non-guard bandwidth, don&#39;t crash during path selection. Bugfix
on 0.2.0.3-alpha.</li>
<li>Fix a crash bug when trying to initialize the evdns module in
Libevent 2. Bugfix on 0.2.1.16-rc.</li>
</ul>

<p><strong>Major bugfixes (stability):</strong></p>

<ul>
<li>Fix an assert in parsing router descriptors containing IPv6
addresses. This one took down the directory authorities when
somebody tried some experimental code. Bugfix on 0.2.1.3-alpha.</li>
<li>Fix an uncommon assertion failure when running with DNSPort under
heavy load. Fixes bug 2933; bugfix on 0.2.0.1-alpha.</li>
<li>Treat an unset $HOME like an empty $HOME rather than triggering an
assert. Bugfix on 0.0.8pre1; fixes bug 1522.</li>
<li>More gracefully handle corrupt state files, removing asserts
in favor of saving a backup and resetting state.</li>
<li>Instead of giving an assertion failure on an internal mismatch
on estimated freelist size, just log a BUG warning and try later.
Mitigates but does not fix bug 1125.</li>
<li>Fix an assert that got triggered when using the TestingTorNetwork
configuration option and then issuing a GETINFO config-text control
command. Fixes bug 2250; bugfix on 0.2.1.2-alpha.</li>
<li>If the cached cert file is unparseable, warn but don&#39;t exit.</li>
</ul>

<p><strong>Privacy fixes (relays/bridges):</strong></p>

<ul>
<li>Don&#39;t list Windows capabilities in relay descriptors. We never made
use of them, and maybe it&#39;s a bad idea to publish them. Bugfix
on 0.1.1.8-alpha.</li>
<li>If the Nickname configuration option isn&#39;t given, Tor would pick a
nickname based on the local hostname as the nickname for a relay.
Because nicknames are not very important in today&#39;s Tor and the
&quot;Unnamed&quot; nickname has been implemented, this is now problematic
behavior: It leaks information about the hostname without being
useful at all. Fixes bug 2979; bugfix on 0.1.2.2-alpha, which
introduced the Unnamed nickname. Reported by tagnaq.</li>
<li>Maintain separate TLS contexts and certificates for incoming and
outgoing connections in bridge relays. Previously we would use the
same TLS contexts and certs for incoming and outgoing connections.
Bugfix on 0.2.0.3-alpha; addresses bug 988.</li>
<li>Maintain separate identity keys for incoming and outgoing TLS
contexts in bridge relays. Previously we would use the same
identity keys for incoming and outgoing TLS contexts. Bugfix on
0.2.0.3-alpha; addresses the other half of bug 988.</li>
<li>Make the bridge directory authority refuse to answer directory
requests for &quot;all descriptors&quot;. It used to include bridge
descriptors in its answer, which was a major information leak.
Found by &quot;piebeer&quot;. Bugfix on 0.2.0.3-alpha.</li>
</ul>

<p><strong>Privacy fixes (clients):</strong></p>

<ul>
<li>When receiving a hidden service descriptor, check that it is for
the hidden service we wanted. Previously, Tor would store any
hidden service descriptors that a directory gave it, whether it
wanted them or not. This wouldn&#39;t have let an attacker impersonate
a hidden service, but it did let directories pre-seed a client
with descriptors that it didn&#39;t want. Bugfix on 0.0.6.</li>
<li>Start the process of disabling &quot;.exit&quot; address notation, since it
can be used for a variety of esoteric application-level attacks
on users. To reenable it, set &quot;AllowDotExit 1&quot; in your torrc. Fix
on 0.0.9rc5.</li>
<li>Reject attempts at the client side to open connections to private
IP addresses (like 127.0.0.1, 10.0.0.1, and so on) with
a randomly chosen exit node. Attempts to do so are always
ill-defined, generally prevented by exit policies, and usually
in error. This will also help to detect loops in transparent
proxy configurations. You can disable this feature by setting
&quot;ClientRejectInternalAddresses 0&quot; in your torrc.</li>
<li>Log a notice when we get a new control connection. Now it&#39;s easier
for security-conscious users to recognize when a local application
is knocking on their controller door. Suggested by bug 1196.</li>
</ul>

<p><strong>Privacy fixes (newnym):</strong></p>

<ul>
<li>Avoid linkability based on cached hidden service descriptors: forget
all hidden service descriptors cached as a client when processing a
SIGNAL NEWNYM command. Fixes bug 3000; bugfix on 0.0.6.</li>
<li>On SIGHUP, do not clear out all TrackHostExits mappings, client
DNS cache entries, and virtual address mappings: that&#39;s what
NEWNYM is for. Fixes bug 1345; bugfix on 0.1.0.1-rc.</li>
<li>Don&#39;t attach new streams to old rendezvous circuits after SIGNAL
NEWNYM. Previously, we would keep using an existing rendezvous
circuit if it remained open (i.e. if it were kept open by a
long-lived stream, or if a new stream were attached to it before
Tor could notice that it was old and no longer in use). Bugfix on
0.1.1.15-rc; fixes bug 3375.</li>
</ul>

<p><strong>Major bugfixes (relay bandwidth accounting):</strong></p>

<ul>
<li>Fix a bug that could break accounting on 64-bit systems with large
time_t values, making them hibernate for impossibly long intervals.
Fixes bug 2146. Bugfix on 0.0.9pre6; fix by boboper.</li>
<li>Fix a bug in bandwidth accounting that could make us use twice
the intended bandwidth when our interval start changes due to
daylight saving time. Now we tolerate skew in stored vs computed
interval starts: if the start of the period changes by no more than
50% of the period&#39;s duration, we remember bytes that we transferred
in the old period. Fixes bug 1511; bugfix on 0.0.9pre5.</li>
</ul>

<p><strong>Major bugfixes (bridges):</strong></p>

<ul>
<li>Bridges now use &quot;reject *:*&quot; as their default exit policy. Bugfix
on 0.2.0.3-alpha. Fixes bug 1113.</li>
<li>If you configure your bridge with a known identity fingerprint,
and the bridge authority is unreachable (as it is in at least
one country now), fall back to directly requesting the descriptor
from the bridge. Finishes the feature started in 0.2.0.10-alpha;
closes bug 1138.</li>
<li>Fix a bug where bridge users who configure the non-canonical
address of a bridge automatically switch to its canonical
address. If a bridge listens at more than one address, it
should be able to advertise those addresses independently and
any non-blocked addresses should continue to work. Bugfix on Tor
0.2.0.3-alpha. Fixes bug 2510.</li>
<li>If you configure Tor to use bridge A, and then quit and
configure Tor to use bridge B instead (or if you change Tor
to use bridge B via the controller), it would happily continue
to use bridge A if it&#39;s still reachable. While this behavior is
a feature if your goal is connectivity, in some scenarios it&#39;s a
dangerous bug. Bugfix on Tor 0.2.0.1-alpha; fixes bug 2511.</li>
<li>When the controller configures a new bridge, don&#39;t wait 10 to 60
seconds before trying to fetch its descriptor. Bugfix on
0.2.0.3-alpha; fixes bug 3198 (suggested by 2355).</li>
</ul>

<p><strong>Major bugfixes (directory authorities):</strong></p>

<ul>
<li>Many relays have been falling out of the consensus lately because
not enough authorities know about their descriptor for them to get
a majority of votes. When we deprecated the v2 directory protocol,
we got rid of the only way that v3 authorities can hear from each
other about other descriptors. Now authorities examine every v3
vote for new descriptors, and fetch them from that authority. Bugfix
on 0.2.1.23.</li>
<li>Authorities could be tricked into giving out the Exit flag to relays
that didn&#39;t allow exiting to any ports. This bug could screw
with load balancing and stats. Bugfix on 0.1.1.6-alpha; fixes bug

<ol>
<li>Bug discovered by Martin Kowalczyk.</li>
</ol></li>
<li>If all authorities restart at once right before a consensus vote,
nobody will vote about &quot;Running&quot;, and clients will get a consensus
with no usable relays. Instead, authorities refuse to build a
consensus if this happens. Bugfix on 0.2.0.10-alpha; fixes bug 1066.</li>
</ul>

<p><strong>Major bugfixes (stream-level fairness):</strong></p>

<ul>
<li>When receiving a circuit-level SENDME for a blocked circuit, try
to package cells fairly from all the streams that had previously
been blocked on that circuit. Previously, we had started with the
oldest stream, and allowed each stream to potentially exhaust
the circuit&#39;s package window. This gave older streams on any
given circuit priority over newer ones. Fixes bug 1937. Detected
originally by Camilo Viecco. This bug was introduced before the
first Tor release, in svn commit r152: it is the new winner of
the longest-lived bug prize.</li>
<li>Fix a stream fairness bug that would cause newer streams on a given
circuit to get preference when reading bytes from the origin or
destination. Fixes bug 2210. Fix by Mashael AlSabah. This bug was
introduced before the first Tor release, in svn revision r152.</li>
<li>When the exit relay got a circuit-level sendme cell, it started
reading on the exit streams, even if had 500 cells queued in the
circuit queue already, so the circuit queue just grew and grew in
some cases. We fix this by not re-enabling reading on receipt of a
sendme cell when the cell queue is blocked. Fixes bug 1653. Bugfix
on 0.2.0.1-alpha. Detected by Mashael AlSabah. Original patch by
&quot;yetonetime&quot;.</li>
<li>Newly created streams were allowed to read cells onto circuits,
even if the circuit&#39;s cell queue was blocked and waiting to drain.
This created potential unfairness, as older streams would be
blocked, but newer streams would gladly fill the queue completely.
We add code to detect this situation and prevent any stream from
getting more than one free cell. Bugfix on 0.2.0.1-alpha. Partially
fixes bug 1298.</li>
</ul>

<p><strong>Major bugfixes (hidden services):</strong></p>

<ul>
<li>Apply circuit timeouts to opened hidden-service-related circuits
based on the correct start time. Previously, we would apply the
circuit build timeout based on time since the circuit&#39;s creation;
it was supposed to be applied based on time since the circuit
entered its current state. Bugfix on 0.0.6; fixes part of bug 1297.</li>
<li>Improve hidden service robustness: When we find that we have
extended a hidden service&#39;s introduction circuit to a relay not
listed as an introduction point in the HS descriptor we currently
have, retry with an introduction point from the current
descriptor. Previously we would just give up. Fixes bugs 1024 and
1930; bugfix on 0.2.0.10-alpha.</li>
<li>Directory authorities now use data collected from their own
uptime observations when choosing whether to assign the HSDir flag
to relays, instead of trusting the uptime value the relay reports in
its descriptor. This change helps prevent an attack where a small
set of nodes with frequently-changing identity keys can blackhole
a hidden service. (Only authorities need upgrade; others will be
fine once they do.) Bugfix on 0.2.0.10-alpha; fixes bug 2709.</li>
<li>Stop assigning the HSDir flag to relays that disable their
DirPort (and thus will refuse to answer directory requests). This
fix should dramatically improve the reachability of hidden services:
hidden services and hidden service clients pick six HSDir relays
to store and retrieve the hidden service descriptor, and currently
about half of the HSDir relays will refuse to work. Bugfix on
0.2.0.10-alpha; fixes part of bug 1693.</li>
</ul>

<p><strong>Major bugfixes (misc):</strong></p>

<ul>
<li>Clients now stop trying to use an exit node associated with a given
destination by TrackHostExits if they fail to reach that exit node.
Fixes bug 2999. Bugfix on 0.2.0.20-rc.</li>
<li>Fix a regression that caused Tor to rebind its ports if it receives
SIGHUP while hibernating. Bugfix in 0.1.1.6-alpha; closes bug 919.</li>
<li>Remove an extra pair of quotation marks around the error
message in control-port STATUS_GENERAL BUG events. Bugfix on
0.1.2.6-alpha; fixes bug 3732.</li>
</ul>

<p><strong>Minor features (relays):</strong></p>

<ul>
<li>Ensure that no empty <a href="read%7Cwrite">dirreq-</a>-history lines are added
to an extrainfo document. Implements ticket 2497.</li>
<li>When bandwidth accounting is enabled, be more generous with how
much bandwidth we&#39;ll use up before entering &quot;soft hibernation&quot;.
Previously, we&#39;d refuse new connections and circuits once we&#39;d
used up 95% of our allotment. Now, we use up 95% of our allotment,
AND make sure that we have no more than 500MB (or 3 hours of
expected traffic, whichever is lower) remaining before we enter
soft hibernation.</li>
<li>Relays now log the reason for publishing a new relay descriptor,
so we have a better chance of hunting down instances of bug 1810.
Resolves ticket 3252.</li>
<li>Log a little more clearly about the times at which we&#39;re no longer
accepting new connections (e.g. due to hibernating). Resolves
bug 2181.</li>
<li>When AllowSingleHopExits is set, print a warning to explain to the
relay operator why most clients are avoiding her relay.</li>
<li>Send END_STREAM_REASON_NOROUTE in response to EHOSTUNREACH errors.
Clients before 0.2.1.27 didn&#39;t handle NOROUTE correctly, but such
clients are already deprecated because of security bugs.</li>
</ul>

<p><strong>Minor features (network statistics):</strong></p>

<ul>
<li>Directory mirrors that set &quot;DirReqStatistics 1&quot; write statistics
about directory requests to disk every 24 hours. As compared to the
&quot;--enable-geoip-stats&quot; ./configure flag in 0.2.1.x, there are a few
improvements: 1) stats are written to disk exactly every 24 hours;
2) estimated shares of v2 and v3 requests are determined as mean
values, not at the end of a measurement period; 3) unresolved
requests are listed with country code &#39;??&#39;; 4) directories also
measure download times.</li>
<li>Exit nodes that set &quot;ExitPortStatistics 1&quot; write statistics on the
number of exit streams and transferred bytes per port to disk every
24 hours.</li>
<li>Relays that set &quot;CellStatistics 1&quot; write statistics on how long
cells spend in their circuit queues to disk every 24 hours.</li>
<li>Entry nodes that set &quot;EntryStatistics 1&quot; write statistics on the
rough number and origins of connecting clients to disk every 24
hours.</li>
<li>Relays that write any of the above statistics to disk and set
&quot;ExtraInfoStatistics 1&quot; include the past 24 hours of statistics in
their extra-info documents. Implements proposal 166.</li>
</ul>

<p><strong>Minor features (GeoIP and statistics):</strong></p>

<ul>
<li>Provide a log message stating which geoip file we&#39;re parsing
instead of just stating that we&#39;re parsing the geoip file.
Implements ticket 2432.</li>
<li>Make sure every relay writes a state file at least every 12 hours.
Previously, a relay could go for weeks without writing its state
file, and on a crash could lose its bandwidth history, capacity
estimates, client country statistics, and so on. Addresses bug 3012.</li>
<li>Relays report the number of bytes spent on answering directory
requests in extra-info descriptors similar to {read,write}-history.
Implements enhancement 1790.</li>
<li>Report only the top 10 ports in exit-port stats in order not to
exceed the maximum extra-info descriptor length of 50 KB. Implements
task 2196.</li>
<li>If writing the state file to disk fails, wait up to an hour before
retrying again, rather than trying again each second. Fixes bug
2346; bugfix on Tor 0.1.1.3-alpha.</li>
<li>Delay geoip stats collection by bridges for 6 hours, not 2 hours,
when we switch from being a public relay to a bridge. Otherwise
there will still be clients that see the relay in their consensus,
and the stats will end up wrong. Bugfix on 0.2.1.15-rc; fixes
bug 932.</li>
<li>Update to the August 2 2011 Maxmind GeoLite Country database.</li>
</ul>

<p><strong>Minor features (clients):</strong></p>

<ul>
<li>When expiring circuits, use microsecond timers rather than
one-second timers. This can avoid an unpleasant situation where a
circuit is launched near the end of one second and expired right
near the beginning of the next, and prevent fluctuations in circuit
timeout values.</li>
<li>If we&#39;ve configured EntryNodes and our network goes away and/or all
our entrynodes get marked down, optimistically retry them all when
a new socks application request appears. Fixes bug 1882.</li>
<li>Always perform router selections using weighted relay bandwidth,
even if we don&#39;t need a high capacity circuit at the time. Non-fast
circuits now only differ from fast ones in that they can use relays
not marked with the Fast flag. This &quot;feature&quot; could turn out to
be a horrible bug; we should investigate more before it goes into
a stable release.</li>
<li>When we run out of directory information such that we can&#39;t build
circuits, but then get enough that we can build circuits, log when
we actually construct a circuit, so the user has a better chance of
knowing what&#39;s going on. Fixes bug 1362.</li>
<li>Log SSL state transitions at debug level during handshake, and
include SSL states in error messages. This may help debug future
SSL handshake issues.</li>
</ul>

<p><strong>Minor features (directory authorities):</strong></p>

<ul>
<li>When a router changes IP address or port, authorities now launch
a new reachability test for it. Implements ticket 1899.</li>
<li>Directory authorities now reject relays running any versions of
Tor between 0.2.1.3-alpha and 0.2.1.18 inclusive; they have
known bugs that keep RELAY_EARLY cells from working on rendezvous
circuits. Followup to fix for bug 2081.</li>
<li>Directory authorities now reject relays running any version of Tor
older than 0.2.0.26-rc. That version is the earliest that fetches
current directory information correctly. Fixes bug 2156.</li>
<li>Directory authorities now do an immediate reachability check as soon
as they hear about a new relay. This change should slightly reduce
the time between setting up a relay and getting listed as running
in the consensus. It should also improve the time between setting
up a bridge and seeing use by bridge users.</li>
<li>Directory authorities no longer launch a TLS connection to every
relay as they startup. Now that we have 2k+ descriptors cached,
the resulting network hiccup is becoming a burden. Besides,
authorities already avoid voting about Running for the first half
hour of their uptime.</li>
<li>Directory authorities now log the source of a rejected POSTed v3
networkstatus vote, so we can track failures better.</li>
<li>Backport code from 0.2.3.x that allows directory authorities to
clean their microdescriptor caches. Needed to resolve bug 2230.</li>
</ul>

<p><strong>Minor features (hidden services):</strong></p>

<ul>
<li>Use computed circuit-build timeouts to decide when to launch
parallel introduction circuits for hidden services. (Previously,
we would retry after 15 seconds.)</li>
<li>Don&#39;t allow v0 hidden service authorities to act as clients.
Required by fix for bug 3000.</li>
<li>Ignore SIGNAL NEWNYM commands on relay-only Tor instances. Required
by fix for bug 3000.</li>
<li>Make hidden services work better in private Tor networks by not
requiring any uptime to join the hidden service descriptor
DHT. Implements ticket 2088.</li>
<li>Log (at info level) when purging pieces of hidden-service-client
state because of SIGNAL NEWNYM.</li>
</ul>

<p><strong>Minor features (controller interface):</strong></p>

<ul>
<li>New &quot;GETINFO net/listeners/(type)&quot; controller command to return
a list of addresses and ports that are bound for listeners for a
given connection type. This is useful when the user has configured
&quot;SocksPort auto&quot; and the controller needs to know which port got
chosen. Resolves another part of ticket 3076.</li>
<li>Have the controller interface give a more useful message than
&quot;Internal Error&quot; in response to failed GETINFO requests.</li>
<li>Add a TIMEOUT_RATE keyword to the BUILDTIMEOUT_SET control port
event, to give information on the current rate of circuit timeouts
over our stored history.</li>
<li>The &#39;EXTENDCIRCUIT&#39; control port command can now be used with
a circ id of 0 and no path. This feature will cause Tor to build
a new &#39;fast&#39; general purpose circuit using its own path selection
algorithms.</li>
<li>Added a BUILDTIMEOUT_SET controller event to describe changes
to the circuit build timeout.</li>
<li>New controller command &quot;getinfo config-text&quot;. It returns the
contents that Tor would write if you send it a SAVECONF command,
so the controller can write the file to disk itself.</li>
</ul>

<p><strong>Minor features (controller protocol):</strong></p>

<ul>
<li>Add a new ControlSocketsGroupWritable configuration option: when
it is turned on, ControlSockets are group-writeable by the default
group of the current user. Patch by J√©r√©my Bobbio; implements
ticket 2972.</li>
<li>Tor now refuses to create a ControlSocket in a directory that is
world-readable (or group-readable if ControlSocketsGroupWritable
is 0). This is necessary because some operating systems do not
enforce permissions on an AF_UNIX sockets. Permissions on the
directory holding the socket, however, seems to work everywhere.</li>
<li>Warn when CookieAuthFileGroupReadable is set but CookieAuthFile is
not. This would lead to a cookie that is still not group readable.
Closes bug 1843. Suggested by katmagic.</li>
<li>Future-proof the controller protocol a bit by ignoring keyword
arguments we do not recognize.</li>
</ul>

<p><strong>Minor features (more useful logging):</strong></p>

<ul>
<li>Revise most log messages that refer to nodes by nickname to
instead use the &quot;$key=nickname at address&quot; format. This should be
more useful, especially since nicknames are less and less likely
to be unique. Resolves ticket 3045.</li>
<li>When an HTTPS proxy reports &quot;403 Forbidden&quot;, we now explain
what it means rather than calling it an unexpected status code.
Closes bug 2503. Patch from Michael Yakubovich.</li>
<li>Rate-limit a warning about failures to download v2 networkstatus
documents. Resolves part of bug 1352.</li>
<li>Rate-limit the &quot;your application is giving Tor only an IP address&quot;
warning. Addresses bug 2000; bugfix on 0.0.8pre2.</li>
<li>Rate-limit &quot;Failed to hand off onionskin&quot; warnings.</li>
<li>When logging a rate-limited warning, we now mention how many messages
got suppressed since the last warning.</li>
<li>Make the formerly ugly &quot;2 unknown, 7 missing key, 0 good, 0 bad,
2 no signature, 4 required&quot; messages about consensus signatures
easier to read, and make sure they get logged at the same severity
as the messages explaining which keys are which. Fixes bug 1290.</li>
<li>Don&#39;t warn when we have a consensus that we can&#39;t verify because
of missing certificates, unless those certificates are ones
that we have been trying and failing to download. Fixes bug 1145.</li>
</ul>

<p><strong>Minor features (log domains):</strong></p>

<ul>
<li>Add documentation for configuring logging at different severities in
different log domains. We&#39;ve had this feature since 0.2.1.1-alpha,
but for some reason it never made it into the manpage. Fixes
bug 2215.</li>
<li>Make it simpler to specify &quot;All log domains except for A and B&quot;.
Previously you needed to say &quot;[*,~A,~B]&quot;. Now you can just say
&quot;[~A,~B]&quot;.</li>
<li>Add a &quot;LogMessageDomains 1&quot; option to include the domains of log
messages along with the messages. Without this, there&#39;s no way
to use log domains without reading the source or doing a lot
of guessing.</li>
<li>Add a new &quot;Handshake&quot; log domain for activities that happen
during the TLS handshake.</li>
</ul>

<p><strong>Minor features (build process):</strong></p>

<ul>
<li>Make compilation with clang possible when using
&quot;--enable-gcc-warnings&quot; by removing two warning options that clang
hasn&#39;t implemented yet and by fixing a few warnings. Resolves
ticket 2696.</li>
<li>Detect platforms that brokenly use a signed size_t, and refuse to
build there. Found and analyzed by doorss and rransom.</li>
<li>Fix a bunch of compile warnings revealed by mingw with gcc 4.5.
Resolves bug 2314.</li>
<li>Add support for statically linking zlib by specifying
&quot;--enable-static-zlib&quot;, to go with our support for statically
linking openssl and libevent. Resolves bug 1358.</li>
<li>Instead of adding the svn revision to the Tor version string, report
the git commit (when we&#39;re building from a git checkout).</li>
<li>Rename the &quot;log.h&quot; header to &quot;torlog.h&quot; so as to conflict with fewer
system headers.</li>
<li>New --digests command-line switch to output the digests of the
source files Tor was built with.</li>
<li>Generate our manpage and HTML documentation using Asciidoc. This
change should make it easier to maintain the documentation, and
produce nicer HTML. The build process fails if asciidoc cannot
be found and building with asciidoc isn&#39;t disabled (via the
&quot;--disable-asciidoc&quot; argument to ./configure. Skipping the manpage
speeds up the build considerably.</li>
</ul>

<p><strong>Minor features (options / torrc):</strong></p>

<ul>
<li>Warn when the same option is provided more than once in a torrc
file, on the command line, or in a single SETCONF statement, and
the option is one that only accepts a single line. Closes bug 1384.</li>
<li>Warn when the user configures two HiddenServiceDir lines that point
to the same directory. Bugfix on 0.0.6 (the version introducing
HiddenServiceDir); fixes bug 3289.</li>
<li>Add new &quot;perconnbwrate&quot; and &quot;perconnbwburst&quot; consensus params to
do individual connection-level rate limiting of clients. The torrc
config options with the same names trump the consensus params, if
both are present. Replaces the old &quot;bwconnrate&quot; and &quot;bwconnburst&quot;
consensus params which were broken from 0.2.2.7-alpha through
0.2.2.14-alpha. Closes bug 1947.</li>
<li>New config option &quot;WarnUnsafeSocks 0&quot; disables the warning that
occurs whenever Tor receives a socks handshake using a version of
the socks protocol that can only provide an IP address (rather
than a hostname). Setups that do DNS locally over Tor are fine,
and we shouldn&#39;t spam the logs in that case.</li>
<li>New config option &quot;CircuitStreamTimeout&quot; to override our internal
timeout schedule for how many seconds until we detach a stream from
a circuit and try a new circuit. If your network is particularly
slow, you might want to set this to a number like 60.</li>
<li>New options for SafeLogging to allow scrubbing only log messages
generated while acting as a relay. Specify &quot;SafeLogging relay&quot; if
you want to ensure that only messages known to originate from
client use of the Tor process will be logged unsafely.</li>
<li>Time and memory units in the configuration file can now be set to
fractional units. For example, &quot;2.5 GB&quot; is now a valid value for
AccountingMax.</li>
<li>Support line continuations in the torrc config file. If a line
ends with a single backslash character, the newline is ignored, and
the configuration value is treated as continuing on the next line.
Resolves bug 1929.</li>
</ul>

<p><strong>Minor features (unit tests):</strong></p>

<ul>
<li>Revise our unit tests to use the &quot;tinytest&quot; framework, so we
can run tests in their own processes, have smarter setup/teardown
code, and so on. The unit test code has moved to its own
subdirectory, and has been split into multiple modules.</li>
<li>Add a unit test for cross-platform directory-listing code.</li>
<li>Add some forgotten return value checks during unit tests. Found
by coverity.</li>
<li>Use GetTempDir to find the proper temporary directory location on
Windows when generating temporary files for the unit tests. Patch
by Gisle Vanem.</li>
</ul>

<p><strong>Minor features (misc):</strong></p>

<ul>
<li>The &quot;torify&quot; script now uses torsocks where available.</li>
<li>Make Libevent log messages get delivered to controllers later,
and not from inside the Libevent log handler. This prevents unsafe
reentrant Libevent calls while still letting the log messages
get through.</li>
<li>Certain Tor clients (such as those behind check.torproject.org) may
want to fetch the consensus in an extra early manner. To enable this
a user may now set FetchDirInfoExtraEarly to 1. This also depends on
setting FetchDirInfoEarly to 1. Previous behavior will stay the same
as only certain clients who must have this information sooner should
set this option.</li>
<li>Expand homedirs passed to tor-checkkey. This should silence a
coverity complaint about passing a user-supplied string into
open() without checking it.</li>
<li>Make sure to disable DirPort if running as a bridge. DirPorts aren&#39;t
used on bridges, and it makes bridge scanning somewhat easier.</li>
<li>Create the /var/run/tor directory on startup on OpenSUSE if it is
not already created. Patch from Andreas Stieger. Fixes bug 2573.</li>
</ul>

<p><strong>Minor bugfixes (relays):</strong></p>

<ul>
<li>When a relay decides that its DNS is too broken for it to serve
as an exit server, it advertised itself as a non-exit, but
continued to act as an exit. This could create accidental
partitioning opportunities for users. Instead, if a relay is
going to advertise reject *:* as its exit policy, it should
really act with exit policy &quot;reject *:*&quot;. Fixes bug 2366.
Bugfix on Tor 0.1.2.5-alpha. Bugfix by user &quot;postman&quot; on trac.</li>
<li>Publish a router descriptor even if generating an extra-info
descriptor fails. Previously we would not publish a router
descriptor without an extra-info descriptor; this can cause fast
exit relays collecting exit-port statistics to drop from the
consensus. Bugfix on 0.1.2.9-rc; fixes bug 2195.</li>
<li>When we&#39;re trying to guess whether we know our IP address as
a relay, we would log various ways that we failed to guess
our address, but never log that we ended up guessing it
successfully. Now add a log line to help confused and anxious
relay operators. Bugfix on 0.1.2.1-alpha; fixes bug 1534.</li>
<li>For bandwidth accounting, calculate our expected bandwidth rate
based on the time during which we were active and not in
soft-hibernation during the last interval. Previously, we were
also considering the time spent in soft-hibernation. If this
was a long time, we would wind up underestimating our bandwidth
by a lot, and skewing our wakeup time towards the start of the
accounting interval. Fixes bug 1789. Bugfix on 0.0.9pre5.</li>
<li>Demote a confusing TLS warning that relay operators might get when
someone tries to talk to their ORPort. It is not the operator&#39;s
fault, nor can they do anything about it. Fixes bug 1364; bugfix
on 0.2.0.14-alpha.</li>
<li>Change &quot;Application request when we&#39;re believed to be offline.&quot;
notice to &quot;Application request when we haven&#39;t used client
functionality lately.&quot;, to clarify that it&#39;s not an error. Bugfix
on 0.0.9.3; fixes bug 1222.</li>
</ul>

<p><strong>Minor bugfixes (bridges):</strong></p>

<ul>
<li>When a client starts or stops using bridges, never use a circuit
that was built before the configuration change. This behavior could
put at risk a user who uses bridges to ensure that her traffic
only goes to the chosen addresses. Bugfix on 0.2.0.3-alpha; fixes
bug 3200.</li>
<li>Do not reset the bridge descriptor download status every time we
re-parse our configuration or get a configuration change. Fixes
bug 3019; bugfix on 0.2.0.3-alpha.</li>
<li>Users couldn&#39;t configure a regular relay to be their bridge. It
didn&#39;t work because when Tor fetched the bridge descriptor, it found
that it already had it, and didn&#39;t realize that the purpose of the
descriptor had changed. Now we replace routers with a purpose other
than bridge with bridge descriptors when fetching them. Bugfix on
0.1.1.9-alpha. Fixes bug 1776.</li>
<li>In the special case where you configure a public exit relay as your
bridge, Tor would be willing to use that exit relay as the last
hop in your circuit as well. Now we fail that circuit instead.
Bugfix on 0.2.0.12-alpha. Fixes bug 2403. Reported by &quot;piebeer&quot;.</li>
</ul>

<p><strong>Minor bugfixes (clients):</strong></p>

<ul>
<li>We now ask the other side of a stream (the client or the exit)
for more data on that stream when the amount of queued data on
that stream dips low enough. Previously, we wouldn&#39;t ask the
other side for more data until either it sent us more data (which
it wasn&#39;t supposed to do if it had exhausted its window!) or we
had completely flushed all our queued data. This flow control fix
should improve throughput. Fixes bug 2756; bugfix on the earliest
released versions of Tor (svn commit r152).</li>
<li>When a client finds that an origin circuit has run out of 16-bit
stream IDs, we now mark it as unusable for new streams. Previously,
we would try to close the entire circuit. Bugfix on 0.0.6.</li>
<li>Make it explicit that we don&#39;t cannibalize one-hop circuits. This
happens in the wild, but doesn&#39;t turn out to be a problem because
we fortunately don&#39;t use those circuits. Many thanks to outofwords
for the initial analysis and to swissknife who confirmed that
two-hop circuits are actually created.</li>
<li>Resolve an edge case in path weighting that could make us misweight
our relay selection. Fixes bug 1203; bugfix on 0.0.8rc1.</li>
<li>Make the DNSPort option work with libevent 2.x. Don&#39;t alter the
behaviour for libevent 1.x. Fixes bug 1143. Found by SwissTorExit.</li>
</ul>

<p><strong>Minor bugfixes (directory authorities):</strong></p>

<ul>
<li>Make directory authorities more accurate at recording when
relays that have failed several reachability tests became
unreachable, so we can provide more accuracy at assigning Stable,
Guard, HSDir, etc flags. Bugfix on 0.2.0.6-alpha. Resolves bug 2716.</li>
<li>Directory authorities are now more robust to hops back in time
when calculating router stability. Previously, if a run of uptime
or downtime appeared to be negative, the calculation could give
incorrect results. Bugfix on 0.2.0.6-alpha; noticed when fixing
bug 1035.</li>
<li>Directory authorities will now attempt to download consensuses
if their own efforts to make a live consensus have failed. This
change means authorities that restart will fetch a valid
consensus, and it means authorities that didn&#39;t agree with the
current consensus will still fetch and serve it if it has enough
signatures. Bugfix on 0.2.0.9-alpha; fixes bug 1300.</li>
<li>Never vote for a server as &quot;Running&quot; if we have a descriptor for
it claiming to be hibernating, and that descriptor was published
more recently than our last contact with the server. Bugfix on
0.2.0.3-alpha; fixes bug 911.</li>
<li>Directory authorities no longer change their opinion of, or vote on,
whether a router is Running, unless they have themselves been
online long enough to have some idea. Bugfix on 0.2.0.6-alpha.
Fixes bug 1023.</li>
</ul>

<p><strong>Minor bugfixes (hidden services):</strong></p>

<ul>
<li>Log malformed requests for rendezvous descriptors as protocol
warnings, not warnings. Also, use a more informative log message
in case someone sees it at log level warning without prior
info-level messages. Fixes bug 2748; bugfix on 0.2.0.10-alpha.</li>
<li>Accept hidden service descriptors if we think we might be a hidden
service directory, regardless of what our consensus says. This
helps robustness, since clients and hidden services can sometimes
have a more up-to-date view of the network consensus than we do,
and if they think that the directory authorities list us a HSDir,
we might actually be one. Related to bug 2732; bugfix on
0.2.0.10-alpha.</li>
<li>Correct the warning displayed when a rendezvous descriptor exceeds
the maximum size. Fixes bug 2750; bugfix on 0.2.1.5-alpha. Found by
John Brooks.</li>
<li>Clients and hidden services now use HSDir-flagged relays for hidden
service descriptor downloads and uploads even if the relays have no
DirPort set and the client has disabled TunnelDirConns. This will
eventually allow us to give the HSDir flag to relays with no
DirPort. Fixes bug 2722; bugfix on 0.2.1.6-alpha.</li>
<li>Only limit the lengths of single HS descriptors, even when multiple
HS descriptors are published to an HSDir relay in a single POST
operation. Fixes bug 2948; bugfix on 0.2.1.5-alpha. Found by hsdir.</li>
</ul>

<p><strong>Minor bugfixes (controllers):</strong></p>

<ul>
<li>Allow GETINFO fingerprint to return a fingerprint even when
we have not yet built a router descriptor. Fixes bug 3577;
bugfix on 0.2.0.1-alpha.</li>
<li>Send a SUCCEEDED stream event to the controller when a reverse
resolve succeeded. Fixes bug 3536; bugfix on 0.0.8pre1. Issue
discovered by katmagic.</li>
<li>Remove a trailing asterisk from &quot;exit-policy/default&quot; in the
output of the control port command &quot;GETINFO info/names&quot;. Bugfix
on 0.1.2.5-alpha.</li>
<li>Make the SIGNAL DUMP controller command work on FreeBSD. Fixes bug

<ol>
<li>Bugfix on 0.1.1.1-alpha.</li>
</ol></li>
<li>When we restart our relay, we might get a successful connection
from the outside before we&#39;ve started our reachability tests,
triggering a warning: &quot;ORPort found reachable, but I have no
routerinfo yet. Failing to inform controller of success.&quot; This
bug was harmless unless Tor is running under a controller
like Vidalia, in which case the controller would never get a
REACHABILITY_SUCCEEDED status event. Bugfix on 0.1.2.6-alpha;
fixes bug 1172.</li>
<li>When a controller changes TrackHostExits, remove mappings for
hosts that should no longer have their exits tracked. Bugfix on
0.1.0.1-rc.</li>
<li>When a controller changes VirtualAddrNetwork, remove any mappings
for hosts that were automapped to the old network. Bugfix on
0.1.1.19-rc.</li>
<li>When a controller changes one of the AutomapHosts* options, remove
any mappings for hosts that should no longer be automapped. Bugfix
on 0.2.0.1-alpha.</li>
<li>Fix an off-by-one error in calculating some controller command
argument lengths. Fortunately, this mistake is harmless since
the controller code does redundant NUL termination too. Found by
boboper. Bugfix on 0.1.1.1-alpha.</li>
<li>Fix a bug in the controller interface where &quot;GETINFO ns/asdaskljkl&quot;
would return &quot;551 Internal error&quot; rather than &quot;552 Unrecognized key
ns/asdaskljkl&quot;. Bugfix on 0.1.2.3-alpha.</li>
<li>Don&#39;t spam the controller with events when we have no file
descriptors available. Bugfix on 0.2.1.5-alpha. (Rate-limiting
for log messages was already solved from bug 748.)</li>
<li>Emit a GUARD DROPPED controller event for a case we missed.</li>
<li>Ensure DNS requests launched by &quot;RESOLVE&quot; commands from the
controller respect the __LeaveStreamsUnattached setconf options. The
same goes for requests launched via DNSPort or transparent
proxying. Bugfix on 0.2.0.1-alpha; fixes bug 1525.</li>
</ul>

<p><strong>Minor bugfixes (config options):</strong></p>

<ul>
<li>Tor used to limit HttpProxyAuthenticator values to 48 characters.
Change the limit to 512 characters by removing base64 newlines.
Fixes bug 2752. Fix by Michael Yakubovich.</li>
<li>Complain if PublishServerDescriptor is given multiple arguments that
include 0 or 1. This configuration will be rejected in the future.
Bugfix on 0.2.0.1-alpha; closes bug 1107.</li>
<li>Disallow BridgeRelay 1 and ORPort 0 at once in the configuration.
Bugfix on 0.2.0.13-alpha; closes bug 928.</li>
</ul>

<p><strong>Minor bugfixes (log subsystem fixes):</strong></p>

<ul>
<li>When unable to format an address as a string, report its value
as &quot;???&quot; rather than reusing the last formatted address. Bugfix
on 0.2.1.5-alpha.</li>
<li>Be more consistent in our treatment of file system paths. &quot;~&quot; should
get expanded to the user&#39;s home directory in the Log config option.
Fixes bug 2971; bugfix on 0.2.0.1-alpha, which introduced the
feature for the -f and --DataDirectory options.</li>
</ul>

<p><strong>Minor bugfixes (memory management):</strong></p>

<ul>
<li>Don&#39;t stack-allocate the list of supplementary GIDs when we&#39;re
about to log them. Stack-allocating NGROUPS_MAX gid_t elements
could take up to 256K, which is way too much stack. Found by
Coverity; CID #450. Bugfix on 0.2.1.7-alpha.</li>
<li>Save a couple bytes in memory allocation every time we escape
certain characters in a string. Patch from Florian Zumbiehl.</li>
</ul>

<p><strong>Minor bugfixes (protocol correctness):</strong></p>

<ul>
<li>When checking for 1024-bit keys, check for 1024 bits, not 128
bytes. This allows Tor to correctly discard keys of length 1017
through 1023. Bugfix on 0.0.9pre5.</li>
<li>Require that introduction point keys and onion handshake keys
have a public exponent of 65537. Starts to fix bug 3207; bugfix
on 0.2.0.10-alpha.</li>
<li>Handle SOCKS messages longer than 128 bytes long correctly, rather
than waiting forever for them to finish. Fixes bug 2330; bugfix
on 0.2.0.16-alpha. Found by doorss.</li>
<li>Never relay a cell for a circuit we have already destroyed.
Between marking a circuit as closeable and finally closing it,
it may have been possible for a few queued cells to get relayed,
even though they would have been immediately dropped by the next
OR in the circuit. Fixes bug 1184; bugfix on 0.2.0.1-alpha.</li>
<li>Never queue a cell for a circuit that&#39;s already been marked
for close.</li>
<li>Fix a spec conformance issue: the network-status-version token
must be the first token in a v3 consensus or vote. Discovered by
&quot;parakeep&quot;. Bugfix on 0.2.0.3-alpha.</li>
<li>A networkstatus vote must contain exactly one signature. Spec
conformance issue. Bugfix on 0.2.0.3-alpha.</li>
<li>When asked about a DNS record type we don&#39;t support via a
client DNSPort, reply with NOTIMPL rather than an empty
reply. Patch by intrigeri. Fixes bug 3369; bugfix on 2.0.1-alpha.</li>
<li>Make more fields in the controller protocol case-insensitive, since
control-spec.txt said they were.</li>
</ul>

<p><strong>Minor bugfixes (log messages):</strong></p>

<ul>
<li>Fix a log message that said &quot;bits&quot; while displaying a value in
bytes. Found by wanoskarnet. Fixes bug 3318; bugfix on
0.2.0.1-alpha.</li>
<li>Downgrade &quot;no current certificates known for authority&quot; message from
Notice to Info. Fixes bug 2899; bugfix on 0.2.0.10-alpha.</li>
<li>Correctly describe errors that occur when generating a TLS object.
Previously we would attribute them to a failure while generating a
TLS context. Patch by Robert Ransom. Bugfix on 0.1.0.4-rc; fixes
bug 1994.</li>
<li>Fix an instance where a Tor directory mirror might accidentally
log the IP address of a misbehaving Tor client. Bugfix on
0.1.0.1-rc.</li>
<li>Stop logging at severity &#39;warn&#39; when some other Tor client tries
to establish a circuit with us using weak DH keys. It&#39;s a protocol
violation, but that doesn&#39;t mean ordinary users need to hear about
it. Fixes the bug part of bug 1114. Bugfix on 0.1.0.13.</li>
<li>If your relay can&#39;t keep up with the number of incoming create
cells, it would log one warning per failure into your logs. Limit
warnings to 1 per minute. Bugfix on 0.0.2pre10; fixes bug 1042.</li>
</ul>

<p><strong>Minor bugfixes (build fixes):</strong></p>

<ul>
<li>Fix warnings from GCC 4.6&#39;s &quot;-Wunused-but-set-variable&quot; option.</li>
<li>When warning about missing zlib development packages during compile,
give the correct package names. Bugfix on 0.2.0.1-alpha.</li>
<li>Fix warnings that newer versions of autoconf produce during
./autogen.sh. These warnings appear to be harmless in our case,
but they were extremely verbose. Fixes bug 2020.</li>
<li>Squash a compile warning on OpenBSD. Reported by Tas; fixes
bug 1848.</li>
</ul>

<p><strong>Minor bugfixes (portability):</strong></p>

<ul>
<li>Write several files in text mode, on OSes that distinguish text
mode from binary mode (namely, Windows). These files are:
&#39;buffer-stats&#39;, &#39;dirreq-stats&#39;, and &#39;entry-stats&#39; on relays
that collect those statistics; &#39;client_keys&#39; and &#39;hostname&#39; for
hidden services that use authentication; and (in the tor-gencert
utility) newly generated identity and signing keys. Previously,
we wouldn&#39;t specify text mode or binary mode, leading to an
assertion failure. Fixes bug 3607. Bugfix on 0.2.1.1-alpha (when
the DirRecordUsageByCountry option which would have triggered
the assertion failure was added), although this assertion failure
would have occurred in tor-gencert on Windows in 0.2.0.1-alpha.</li>
<li>Selectively disable deprecation warnings on OS X because Lion
started deprecating the shipped copy of openssl. Fixes bug 3643.</li>
<li>Use a wide type to hold sockets when built for 64-bit Windows.
Fixes bug 3270.</li>
<li>Fix an issue that prevented static linking of libevent on
some platforms (notably Linux). Fixes bug 2698; bugfix on 0.2.1.23,
where we introduced the &quot;--with-static-libevent&quot; configure option.</li>
<li>Fix a bug with our locking implementation on Windows that couldn&#39;t
correctly detect when a file was already locked. Fixes bug 2504,
bugfix on 0.2.1.6-alpha.</li>
<li>Build correctly on OSX with zlib 1.2.4 and higher with all warnings
enabled.</li>
<li>Fix IPv6-related connect() failures on some platforms (BSD, OS X).
Bugfix on 0.2.0.3-alpha; fixes first part of bug 2660. Patch by
&quot;piebeer&quot;.</li>
</ul>

<p><strong>Minor bugfixes (code correctness):</strong></p>

<ul>
<li>Always NUL-terminate the sun_path field of a sockaddr_un before
passing it to the kernel. (Not a security issue: kernels are
smart enough to reject bad sockaddr_uns.) Found by Coverity;
CID #428. Bugfix on Tor 0.2.0.3-alpha.</li>
<li>Make connection_printf_to_buf()&#39;s behaviour sane. Its callers
expect it to emit a CRLF iff the format string ends with CRLF;
it actually emitted a CRLF iff (a) the format string ended with
CRLF or (b) the resulting string was over 1023 characters long or
(c) the format string did not end with CRLF *and* the resulting
string was 1021 characters long or longer. Bugfix on 0.1.1.9-alpha;
fixes part of bug 3407.</li>
<li>Make send_control_event_impl()&#39;s behaviour sane. Its callers
expect it to always emit a CRLF at the end of the string; it
might have emitted extra control characters as well. Bugfix on
0.1.1.9-alpha; fixes another part of bug 3407.</li>
<li>Make crypto_rand_int() check the value of its input correctly.
Previously, it accepted values up to UINT_MAX, but could return a
negative number if given a value above INT_MAX+1. Found by George
Kadianakis. Fixes bug 3306; bugfix on 0.2.2pre14.</li>
<li>Fix a potential null-pointer dereference while computing a
consensus. Bugfix on tor-0.2.0.3-alpha, found with the help of
clang&#39;s analyzer.</li>
<li>If we fail to compute the identity digest of a v3 legacy keypair,
warn, and don&#39;t use a buffer-full of junk instead. Bugfix on
0.2.1.1-alpha; fixes bug 3106.</li>
<li>Resolve an untriggerable issue in smartlist_string_num_isin(),
where if the function had ever in the future been used to check
for the presence of a too-large number, it would have given an
incorrect result. (Fortunately, we only used it for 16-bit
values.) Fixes bug 3175; bugfix on 0.1.0.1-rc.</li>
<li>Be more careful about reporting the correct error from a failed
connect() system call. Under some circumstances, it was possible to
look at an incorrect value for errno when sending the end reason.
Bugfix on 0.1.0.1-rc.</li>
<li>Correctly handle an &quot;impossible&quot; overflow cases in connection byte
counting, where we write or read more than 4GB on an edge connection
in a single second. Bugfix on 0.1.2.8-beta.</li>
<li>Avoid a double mark-for-free warning when failing to attach a
transparent proxy connection. Bugfix on 0.1.2.1-alpha. Fixes
bug 2279.</li>
<li>Correctly detect failure to allocate an OpenSSL BIO. Fixes bug 2378;
found by &quot;cypherpunks&quot;. This bug was introduced before the first
Tor release, in svn commit r110.</li>
<li>Fix a bug in bandwidth history state parsing that could have been
triggered if a future version of Tor ever changed the timing
granularity at which bandwidth history is measured. Bugfix on
Tor 0.1.1.11-alpha.</li>
<li>Add assertions to check for overflow in arguments to
base32_encode() and base32_decode(); fix a signed-unsigned
comparison there too. These bugs are not actually reachable in Tor,
but it&#39;s good to prevent future errors too. Found by doorss.</li>
<li>Avoid a bogus overlapped memcpy in tor_addr_copy(). Reported by
&quot;memcpyfail&quot;.</li>
<li>Set target port in get_interface_address6() correctly. Bugfix
on 0.1.1.4-alpha and 0.2.0.3-alpha; fixes second part of bug 2660.</li>
<li>Fix an impossible-to-actually-trigger buffer overflow in relay
descriptor generation. Bugfix on 0.1.0.15.</li>
<li>Fix numerous small code-flaws found by Coverity Scan Rung 3.</li>
</ul>

<p><strong>Minor bugfixes (code improvements):</strong></p>

<ul>
<li>After we free an internal connection structure, overwrite it
with a different memory value than we use for overwriting a freed
internal circuit structure. Should help with debugging. Suggested
by bug 1055.</li>
<li>If OpenSSL fails to make a duplicate of a private or public key, log
an error message and try to exit cleanly. May help with debugging
if bug 1209 ever remanifests.</li>
<li>Some options used different conventions for uppercasing of acronyms
when comparing manpage and source. Fix those in favor of the
manpage, as it makes sense to capitalize acronyms.</li>
<li>Take a first step towards making or.h smaller by splitting out
function definitions for all source files in src/or/. Leave
structures and defines in or.h for now.</li>
<li>Remove a few dead assignments during router parsing. Found by
coverity.</li>
<li>Don&#39;t use 1-bit wide signed bit fields. Found by coverity.</li>
<li>Avoid signed/unsigned comparisons by making SIZE_T_CEILING unsigned.
None of the cases where we did this before were wrong, but by making
this change we avoid warnings. Fixes bug 2475; bugfix on 0.2.1.28.</li>
<li>The memarea code now uses a sentinel value at the end of each area
to make sure nothing writes beyond the end of an area. This might
help debug some conceivable causes of bug 930.</li>
<li>Always treat failure to allocate an RSA key as an unrecoverable
allocation error.</li>
<li>Add some more defensive programming for architectures that can&#39;t
handle unaligned integer accesses. We don&#39;t know of any actual bugs
right now, but that&#39;s the best time to fix them. Fixes bug 1943.</li>
</ul>

<p><strong>Minor bugfixes (misc):</strong></p>

<ul>
<li>Fix a rare bug in rend_fn unit tests: we would fail a test when
a randomly generated port is 0. Diagnosed by Matt Edman. Bugfix
on 0.2.0.10-alpha; fixes bug 1808.</li>
<li>Where available, use Libevent 2.0&#39;s periodic timers so that our
once-per-second cleanup code gets called even more closely to
once per second than it would otherwise. Fixes bug 943.</li>
<li>Ignore OutboundBindAddress when connecting to localhost.
Connections to localhost need to come _from_ localhost, or else
local servers (like DNS and outgoing HTTP/SOCKS proxies) will often
refuse to listen.</li>
<li>Update our OpenSSL 0.9.8l fix so that it works with OpenSSL 0.9.8m
too.</li>
<li>If any of the v3 certs we download are unparseable, we should
actually notice the failure so we don&#39;t retry indefinitely. Bugfix
on 0.2.0.x; reported by &quot;rotator&quot;.</li>
<li>When Tor fails to parse a descriptor of any kind, dump it to disk.
Might help diagnosing bug 1051.</li>
<li>Make our &#39;torify&#39; script more portable; if we have only one of
&#39;torsocks&#39; or &#39;tsocks&#39; installed, don&#39;t complain to the user;
and explain our warning about tsocks better.</li>
<li>Fix some urls in the exit notice file and make it XHTML1.1 strict
compliant. Based on a patch from Christian Kujau.</li>
</ul>

<p><strong>Documentation changes:</strong></p>

<ul>
<li>Modernize the doxygen configuration file slightly. Fixes bug 2707.</li>
<li>Resolve all doxygen warnings except those for missing documentation.
Fixes bug 2705.</li>
<li>Add doxygen documentation for more functions, fields, and types.</li>
<li>Convert the HACKING file to asciidoc, and add a few new sections
to it, explaining how we use Git, how we make changelogs, and
what should go in a patch.</li>
<li>Document the default socks host and port (127.0.0.1:9050) for
tor-resolve.</li>
<li>Removed some unnecessary files from the source distribution. The
AUTHORS file has now been merged into the people page on the
website. The roadmaps and design doc can now be found in the
projects directory in svn.</li>
</ul>

<p><strong>Deprecated and removed features (config):</strong></p>

<ul>
<li>Remove the torrc.complete file. It hasn&#39;t been kept up to date
and users will have better luck checking out the manpage.</li>
<li>Remove the HSAuthorityRecordStats option that version 0 hidden
service authorities could use to track statistics of overall v0
hidden service usage.</li>
<li>Remove the obsolete &quot;NoPublish&quot; option; it has been flagged
as obsolete and has produced a warning since 0.1.1.18-rc.</li>
<li>Caches no longer download and serve v2 networkstatus documents
unless FetchV2Networkstatus flag is set: these documents haven&#39;t
haven&#39;t been used by clients or relays since 0.2.0.x. Resolves
bug 3022.</li>
</ul>

<p><strong>Deprecated and removed features (controller):</strong></p>

<ul>
<li>The controller no longer accepts the old obsolete &quot;addr-mappings/&quot;
or &quot;unregistered-servers-&quot; GETINFO values.</li>
<li>The EXTENDED_EVENTS and VERBOSE_NAMES controller features are now
always on; using them is necessary for correct forward-compatible
controllers.</li>
</ul>

<p><strong>Deprecated and removed features (misc):</strong></p>

<ul>
<li>Hidden services no longer publish version 0 descriptors, and clients
do not request or use version 0 descriptors. However, the old hidden
service authorities still accept and serve version 0 descriptors
when contacted by older hidden services/clients.</li>
<li>Remove undocumented option &quot;-F&quot; from tor-resolve: it hasn&#39;t done
anything since 0.2.1.16-rc.</li>
<li>Remove everything related to building the expert bundle for OS X.
It has confused many users, doesn&#39;t work right on OS X 10.6,
and is hard to get rid of once installed. Resolves bug 1274.</li>
<li>Remove support for .noconnect style addresses. Nobody was using
them, and they provided another avenue for detecting Tor users
via application-level web tricks.</li>
<li>When we fixed bug 1038 we had to put in a restriction not to send
RELAY_EARLY cells on rend circuits. This was necessary as long
as relays using Tor 0.2.1.3-alpha through 0.2.1.18-alpha were
active. Now remove this obsolete check. Resolves bug 2081.</li>
<li>Remove workaround code to handle directory responses from servers
that had bug 539 (they would send HTTP status 503 responses _and_
send a body too). Since only server versions before
0.2.0.16-alpha/0.1.2.19 were affected, there is no longer reason to
keep the workaround in place.</li>
<li>Remove the old &#39;fuzzy time&#39; logic. It was supposed to be used for
handling calculations where we have a known amount of clock skew and
an allowed amount of unknown skew. But we only used it in three
places, and we never adjusted the known/unknown skew values. This is
still something we might want to do someday, but if we do, we&#39;ll
want to do it differently.</li>
<li>Remove the &quot;--enable-iphone&quot; option to ./configure. According to
reports from Marco Bonetti, Tor builds fine without any special
tweaking on recent iPhone SDK versions.</li>
</ul>

  </article>

  <div class="post-footer">
      <a class="post-blog" href="">erinn's Blog</a>
  </div>
  <br />

</div>

<!-- Include the side column --->
<div class="sidecol">

<!-- RSS FEED / SEARCH -->
    <div class="sidefirst">
	<a href="/feed.xml"><img src="/assets/images/rss.png">RSS</a>
	<!-- <a href="#"><img src="/img/rss.png">Atom</a> -->
	<form>
        <input class="searchtext" type="text" size="10" maxlength="10"><input class="searchbutton" type="submit" value="Search">
        </form>
    </div>

<!-- EVENTS -->
    <div class ="sidebox orangebox">
	<h2>Upcoming Events</h2>
	<ul>
	    
		    <li><span><a href="/events/andrew-keynotes-broadband-world-forum">Andrew Keynotes Broadband World Forum</a></span></li>
	    
		    <li><span><a href="/events/roger-usenix-security-symposium-san-diego-ca">Roger @ Usenix Security Symposium, San Diego, CA</a></span></li>
	    
		    <li><span><a href="/events/roger-foci-%E2%80%9914-san-diego-ca">Roger @ FOCI ’14, San Diego, CA</a></span></li>
	    
		    <li><span><a href="/events/tor-pets-2014-amsterdam">Tor @ PETS 2014, Amsterdam</a></span></li>
	    
	</ul>
	<span><a href="/events">full calendar &raquo;</a></span>
    </div>
    
<!-- RECENT BLOG POSTS -->
    <div class ="sidebox greenbox">
	<h2>Recent Blog Posts</h2>
	<ul>
	  
		    <li><span><a href="/tor-weekly-news-%E2%80%94-october-8th-2014">Tor Weekly News — October 8th, 2014</a></span></li>
	  
		    <li><span><a href="/closer-look-great-firewall-china">A closer look at the Great Firewall of China</a></span></li>
	  
		    <li><span><a href="/tor-weekly-news-%E2%80%94-october-1st-2014">Tor Weekly News — October 1st, 2014</a></span></li>
	  
		    <li><span><a href="/tor-browser-40-alpha-3-released">Tor Browser 4.0-alpha-3 is released</a></span></li>
	  
		    <li><span><a href="/tor-browser-366-released">Tor Browser 3.6.6 is released</a></span></li>
	  
		    <li><span><a href="/tails-112-out">Tails 1.1.2 is out</a></span></li>
	  
		    <li><span><a href="/tor-weekly-news-%E2%80%94-september-24th-2014">Tor Weekly News — September 24th, 2014</a></span></li>
	  
		    <li><span><a href="/tor-weekly-news-%E2%80%94-september-17th-2014">Tor Weekly News — September 17th, 2014</a></span></li>
	  
		    <li><span><a href="/tor-0257-rc-out">Tor 0.2.5.7-rc is out</a></span></li>
	  
		    <li><span><a href="/tor-weekly-news-%E2%80%94-september-10th-2014">Tor Weekly News — September 10th, 2014</a></span></li>
	  
	</ul>
	<span><a href="/">more &raquo;</a></span>
    </div>
    
<!-- TAG CLOUD -->
    <div class ="tagbox orangebox">
	<h2>Blog Tag Cloud</h2>
	<ul>

    <li style="font-size: 57%">
        <span><a href="/tag/blog/">
            blog
        </a></span>
    </li>

    <li style="font-size: 56%">
        <span><a href="/tag/first post/">
            first post
        </a></span>
    </li>

    <li style="font-size: 171%">
        <span><a href="/tag/tor/">
            tor
        </a></span>
    </li>

    <li style="font-size: 56%">
        <span><a href="/tag/24c3/">
            24c3
        </a></span>
    </li>

    <li style="font-size: 57%">
        <span><a href="/tag/ccc/">
            ccc
        </a></span>
    </li>

    <li style="font-size: 61%">
        <span><a href="/tag/talks/">
            talks
        </a></span>
    </li>

    <li style="font-size: 59%">
        <span><a href="/tag/bugs/">
            bugs
        </a></span>
    </li>

    <li style="font-size: 57%">
        <span><a href="/tag/crashes/">
            crashes
        </a></span>
    </li>

    <li style="font-size: 64%">
        <span><a href="/tag/osx/">
            osx
        </a></span>
    </li>

    <li style="font-size: 56%">
        <span><a href="/tag/qt/">
            qt
        </a></span>
    </li>

    <li style="font-size: 86%">
        <span><a href="/tag/vidalia/">
            vidalia
        </a></span>
    </li>

    <li style="font-size: 68%">
        <span><a href="/tag/vidalia bundle/">
            vidalia bundle
        </a></span>
    </li>

    <li style="font-size: 56%">
        <span><a href="/tag/meetup/">
            meetup
        </a></span>
    </li>

    <li style="font-size: 59%">
        <span><a href="/tag/attacks/">
            attacks
        </a></span>
    </li>

    <li style="font-size: 56%">
        <span><a href="/tag/covert channels/">
            covert channels
        </a></span>
    </li>

    <li style="font-size: 57%">
        <span><a href="/tag/media coverage/">
            media coverage
        </a></span>
    </li>

    <li style="font-size: 88%">
        <span><a href="/tag/bridges/">
            bridges
        </a></span>
    </li>

    <li style="font-size: 59%">
        <span><a href="/tag/incognito/">
            incognito
        </a></span>
    </li>

    <li style="font-size: 116%">
        <span><a href="/tag/progress report/">
            progress report
        </a></span>
    </li>

    <li style="font-size: 83%">
        <span><a href="/tag/torbrowser/">
            torbrowser
        </a></span>
    </li>

    <li style="font-size: 85%">
        <span><a href="/tag/torbutton/">
            torbutton
        </a></span>
    </li>

    <li style="font-size: 65%">
        <span><a href="/tag/china/">
            china
        </a></span>
    </li>

    <li style="font-size: 56%">
        <span><a href="/tag/directors/">
            directors
        </a></span>
    </li>

    <li style="font-size: 76%">
        <span><a href="/tag/release candidate/">
            release candidate
        </a></span>
    </li>

    <li style="font-size: 74%">
        <span><a href="/tag/gsoc/">
            gsoc
        </a></span>
    </li>

	</ul>
	<span><a href="/tag-cloud">more tags &raquo;</a></span>
    </div>

</div>

<div style="clear: both;"></div>  


<!-- COMMENTS -->
<div id="comments" class="comments clearfix">
  <div class="comments-loading">
  <p><em>Enable Javascript to view comments</em></p>
  </div>
</div>

<script type="text/javascript" class="juvia">
(function() {
    var loadingSection = document.body.querySelector('.comments-loading');
    var icon = '<p>Comments Loading...</p><img alt="loading comments" src="/assets/images/comments-loading.gif">';

    loadingSection.innerHTML = loadingSection.innerHTML + icon;

    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/blog/tor-02232-released',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://torblog-juvia-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);

    (document.getElementsByTagName('head')[0] ||
      document.getElementsByTagName('body')[0] && commentsLoaded).appendChild(s);

})();
</script>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">The Tor Project Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>The Tor Project Blog</li>
          <li><a href="mailto:contact@torproject.org">contact@torproject.org</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/jekyll">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">jekyll</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/jekyllrb">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">jekyllrb</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
