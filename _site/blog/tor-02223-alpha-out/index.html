<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tor 0.2.2.23-alpha is out</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <a href="/"><img class="tor-logo" src="/assets/images/tor_logo.png" alt="Tor logo" /></a>
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>

            <!-- A wrapper for all the blog posts -->
<div class="posts">

  <div id="home">
      <section class="post">
        <header class="post-header">
          <h2 class="post-title"> <a href="">Tor 0.2.2.23-alpha is out</a></h2>
          <p class="post-meta">
              By <a class="post-author" href="#">erinn</a> under
              
                <a class="post-category post-category-js" href="#">alpha releases</a>
              
                <a class="post-category post-category-js" href="#">bug fixes</a>
              
                <a class="post-category post-category-js" href="#">directory authorities</a>
              
                <a class="post-category post-category-js" href="#">tor</a>
               |
              10 Mar 2011
          </p>
        </header>
        <div class="post-description">
          <p>Tor 0.2.2.23-alpha lets relays record their bandwidth history so when
 they restart they don&#39;t lose their bandwidth capacity estimate. This
 release also fixes a diverse set of user-facing bugs, ranging from
 relays overrunning their rate limiting to clients falsely warning about
 clock skew to bridge descriptor leaks by our bridge directory authority.</p>

<p><a href="https://torproject.org/download/download" title="https://torproject.org/download/download">https://torproject.org/download/download</a></p>

<p><strong>Major bugfixes:</strong></p>

<ul>
<li>Stop sending a CLOCK_SKEW controller status event whenever
we fetch directory information from a relay that has a wrong clock.
Instead, only inform the controller when it&#39;s a trusted authority
that claims our clock is wrong. Bugfix on 0.1.2.6-alpha; fixes
the rest of bug 1074.</li>
<li>Fix an assert in parsing router descriptors containing IPv6
addresses. This one took down the directory authorities when
somebody tried some experimental code. Bugfix on 0.2.1.3-alpha.</li>
<li>Make the bridge directory authority refuse to answer directory
requests for &quot;all&quot; descriptors. It used to include bridge
descriptors in its answer, which was a major information leak.
Found by &quot;piebeer&quot;. Bugfix on 0.2.0.3-alpha.</li>
<li>If relays set RelayBandwidthBurst but not RelayBandwidthRate,
Tor would ignore their RelayBandwidthBurst setting,
potentially using more bandwidth than expected. Bugfix on
0.2.0.1-alpha. Reported by Paul Wouters. Fixes bug 2470.</li>
<li>Ignore and warn if the user mistakenly sets &quot;PublishServerDescriptor
hidserv&quot; in her torrc. The &#39;hidserv&#39; argument never controlled
publication of hidden service descriptors. Bugfix on 0.2.0.1-alpha.</li>
</ul>

<p><strong>Major features:</strong></p>

<ul>
<li>Relays now save observed peak bandwidth throughput rates to their
state file (along with total usage, which was already saved)
so that they can determine their correct estimated bandwidth on
restart. Resolves bug 1863, where Tor relays would reset their
estimated bandwidth to 0 after restarting.</li>
<li>Directory authorities now take changes in router IP address and
ORPort into account when determining router stability. Previously,
if a router changed its IP or ORPort, the authorities would not
treat it as having any downtime for the purposes of stability
calculation, whereas clients would experience downtime since the
change could take a while to propagate to them. Resolves issue 1035.</li>
<li>Enable Address Space Layout Randomization (ASLR) and Data Execution
Prevention (DEP) by default on Windows to make it harder for
attackers to exploit vulnerabilities. Patch from John Brooks.</li>
</ul>

<p><strong>Minor bugfixes (on 0.2.1.x and earlier):</strong></p>

<ul>
<li>Fix a rare crash bug that could occur when a client was configured
with a large number of bridges. Fixes bug 2629; bugfix on
0.2.1.2-alpha. Bugfix by trac user &quot;shitlei&quot;.</li>
<li>Avoid a double mark-for-free warning when failing to attach a
transparent proxy connection. Bugfix on 0.1.2.1-alpha. Fixes
bug 2279.</li>
<li>Correctly detect failure to allocate an OpenSSL BIO. Fixes bug 2378;
found by &quot;cypherpunks&quot;. This bug was introduced before the first
Tor release, in svn commit r110.</li>
<li>Country codes aren&#39;t supported in EntryNodes until 0.2.3.x, so
don&#39;t mention them in the manpage. Fixes bug 2450; issue
spotted by keb and G-Lo.</li>
<li>Fix a bug in bandwidth history state parsing that could have been
triggered if a future version of Tor ever changed the timing
granularity at which bandwidth history is measured. Bugfix on
Tor 0.1.1.11-alpha.</li>
<li>When a relay decides that its DNS is too broken for it to serve
as an exit server, it advertised itself as a non-exit, but
continued to act as an exit. This could create accidental
partitioning opportunities for users. Instead, if a relay is
going to advertise reject *:* as its exit policy, it should
really act with exit policy &quot;reject *:*&quot;. Fixes bug 2366.
Bugfix on Tor 0.1.2.5-alpha. Bugfix by user &quot;postman&quot; on trac.</li>
<li>In the special case where you configure a public exit relay as your
bridge, Tor would be willing to use that exit relay as the last
hop in your circuit as well. Now we fail that circuit instead.
Bugfix on 0.2.0.12-alpha. Fixes bug 2403. Reported by &quot;piebeer&quot;.</li>
<li>Fix a bug with our locking implementation on Windows that couldn&#39;t
correctly detect when a file was already locked. Fixes bug 2504,
bugfix on 0.2.1.6-alpha.</li>
<li>Fix IPv6-related connect() failures on some platforms (BSD, OS X).
Bugfix on 0.2.0.3-alpha; fixes first part of bug 2660. Patch by
&quot;piebeer&quot;.</li>
<li>Set target port in get_interface_address6() correctly. Bugfix
on 0.1.1.4-alpha and 0.2.0.3-alpha; fixes second part of bug 2660.</li>
<li>Directory authorities are now more robust to hops back in time
when calculating router stability. Previously, if a run of uptime
or downtime appeared to be negative, the calculation could give
incorrect results. Bugfix on 0.2.0.6-alpha; noticed when fixing
bug 1035.</li>
<li>Fix an assert that got triggered when using the TestingTorNetwork
configuration option and then issuing a GETINFO config-text control
command. Fixes bug 2250; bugfix on 0.2.1.2-alpha.</li>
</ul>

<p><strong>Minor bugfixes (on 0.2.2.x):</strong></p>

<ul>
<li>Clients should not weight BadExit nodes as Exits in their node
selection. Similarly, directory authorities should not count BadExit
bandwidth as Exit bandwidth when computing bandwidth-weights.
Bugfix on 0.2.2.10-alpha; fixes bug 2203.</li>
<li>Correctly clear our dir_read/dir_write history when there is an
error parsing any bw history value from the state file. Bugfix on
Tor 0.2.2.15-alpha.</li>
<li>Resolve a bug in verifying signatures of directory objects
with digests longer than SHA1. Bugfix on 0.2.2.20-alpha.
Fixes bug 2409. Found by &quot;piebeer&quot;.</li>
<li>Bridge authorities no longer crash on SIGHUP when they try to
publish their relay descriptor to themselves. Fixes bug 2572. Bugfix
on 0.2.2.22-alpha.</li>
</ul>

<p><strong>Minor features:</strong></p>

<ul>
<li>Log less aggressively about circuit timeout changes, and improve
some other circuit timeout messages. Resolves bug 2004.</li>
<li>Log a little more clearly about the times at which we&#39;re no longer
accepting new connections. Resolves bug 2181.</li>
<li>Reject attempts at the client side to open connections to private
IP addresses (like 127.0.0.1, 10.0.0.1, and so on) with
a randomly chosen exit node. Attempts to do so are always
ill-defined, generally prevented by exit policies, and usually
in error. This will also help to detect loops in transparent
proxy configurations. You can disable this feature by setting
&quot;ClientRejectInternalAddresses 0&quot; in your torrc.</li>
<li>Always treat failure to allocate an RSA key as an unrecoverable
allocation error.</li>
<li>Update to the March 1 2011 Maxmind GeoLite Country database.</li>
</ul>

<p><strong>Minor features (log subsystem):</strong></p>

<ul>
<li>Add documentation for configuring logging at different severities in
different log domains. We&#39;ve had this feature since 0.2.1.1-alpha,
but for some reason it never made it into the manpage. Fixes
bug 2215.</li>
<li>Make it simpler to specify &quot;All log domains except for A and B&quot;.
Previously you needed to say &quot;[*,~A,~B]&quot;. Now you can just say
&quot;[~A,~B]&quot;.</li>
<li>Add a &quot;LogMessageDomains 1&quot; option to include the domains of log
messages along with the messages. Without this, there&#39;s no way
to use log domains without reading the source or doing a lot
of guessing.</li>
</ul>

<p><strong>Packaging changes:</strong></p>

<ul>
<li>Stop shipping the Tor specs files and development proposal documents
in the tarball. They are now in a separate git repository at
git://git.torproject.org/torspec.git</li>
</ul>

        </div>
      </section>
  </div>

</div>



<div class="comments clearfix">
  <div class="comments-loading">
  <p><em>Comments will not load without Javascript enabled</em></p>
  </div>
</div>

<script type="text/javascript" class="juvia">
(function() {
    var loadingSection = document.body.querySelector('.comments-loading');
    var icon = '<p>Comments Loading...</p><img alt="loading comments" src="/assets/images/black-001-loading.gif">';

    loadingSection.innerHTML = loadingSection.innerHTML + icon;

    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/blog/tor-02223-alpha-out',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://torblog-juvia-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);

    (document.getElementsByTagName('head')[0] ||
      document.getElementsByTagName('body')[0] && commentsLoaded).appendChild(s);

})();
</script>


            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
