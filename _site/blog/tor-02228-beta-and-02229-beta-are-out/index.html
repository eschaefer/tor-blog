<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tor 0.2.2.28-beta and 0.2.2.29-beta are out</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <a href="/"><img class="tor-logo" src="/assets/images/tor_logo.png" alt="Tor logo" /></a>
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>

            <!-- A wrapper for all the blog posts -->
<div class="posts">

  <div id="home">
      <section class="post">
        <header class="post-header">
          <h2 class="post-title"> <a href="">Tor 0.2.2.28-beta and 0.2.2.29-beta are out</a></h2>
          <p class="post-meta">
              By <a class="post-author" href="#">erinn</a> under
              
                <a class="post-category post-category-js" href="#">alpha releases</a>
              
                <a class="post-category post-category-js" href="#">bug fixes</a>
              
                <a class="post-category post-category-js" href="#">tor</a>
               |
              24 Jun 2011
          </p>
        </header>
        <div class="post-description">
          <p><strong>Changes in version 0.2.2.29-beta - 2011-06-20</strong>
 Tor 0.2.2.29-beta reverts an accidental behavior change for users who
 have bridge lines in their torrc but don&#39;t want to use them; gets
 us closer to having the control socket feature working on Debian;
 and fixes a variety of smaller bugs.</p>

<p><a href="https://www.torproject.org/download" title="https://www.torproject.org/download">https://www.torproject.org/download</a></p>

<p><strong>Major bugfixes:</strong></p>

<ul>
<li>Revert the UseBridges option to its behavior before 0.2.2.28-beta.
When we changed the default behavior to &quot;use bridges if any
are listed in the torrc&quot;, we surprised users who had bridges
in their torrc files but who didn&#39;t actually want to use them.
Partial resolution for bug 3354.</li>
</ul>

<p><strong>Privacy fixes:</strong></p>

<ul>
<li>Don&#39;t attach new streams to old rendezvous circuits after SIGNAL
NEWNYM. Previously, we would keep using an existing rendezvous
circuit if it remained open (i.e. if it were kept open by a
long-lived stream, or if a new stream were attached to it before
Tor could notice that it was old and no longer in use). Bugfix on
0.1.1.15-rc; fixes bug 3375.</li>
</ul>

<p><strong>Minor bugfixes:</strong></p>

<ul>
<li>Fix a bug when using ControlSocketsGroupWritable with User. The
directory&#39;s group would be checked against the current group, not
the configured group. Patch by Jérémy Bobbio. Fixes bug 3393;
bugfix on 0.2.2.26-beta.</li>
<li>Make connection_printf_to_buf()&#39;s behaviour sane. Its callers
expect it to emit a CRLF iff the format string ends with CRLF;
it actually emitted a CRLF iff (a) the format string ended with
CRLF or (b) the resulting string was over 1023 characters long or
(c) the format string did not end with CRLF *and* the resulting
string was 1021 characters long or longer. Bugfix on 0.1.1.9-alpha;
fixes part of bug 3407.</li>
<li>Make send_control_event_impl()&#39;s behaviour sane. Its callers
expect it to always emit a CRLF at the end of the string; it
might have emitted extra control characters as well. Bugfix on
0.1.1.9-alpha; fixes another part of bug 3407.</li>
<li>Make crypto_rand_int() check the value of its input correctly.
Previously, it accepted values up to UINT_MAX, but could return a
negative number if given a value above INT_MAX+1. Found by George
Kadianakis. Fixes bug 3306; bugfix on 0.2.2pre14.</li>
<li>Avoid a segfault when reading a malformed circuit build state
with more than INT_MAX entries. Found by wanoskarnet. Bugfix on
0.2.2.4-alpha.</li>
<li>When asked about a DNS record type we don&#39;t support via a
client DNSPort, reply with NOTIMPL rather than an empty
reply. Patch by intrigeri. Fixes bug 3369; bugfix on 2.0.1-alpha.</li>
<li>Fix a rare memory leak during stats writing. Found by coverity.</li>
</ul>

<p><strong>Minor features:</strong></p>

<ul>
<li>Update to the June 1 2011 Maxmind GeoLite Country database.</li>
</ul>

<p><strong>Code simplifications and refactoring:</strong></p>

<ul>
<li>Remove some dead code as indicated by coverity.</li>
<li>Remove a few dead assignments during router parsing. Found by
coverity.</li>
<li>Add some forgotten return value checks during unit tests. Found
by coverity.</li>
<li>Don&#39;t use 1-bit wide signed bit fields. Found by coverity.</li>
</ul>

<p><strong>Changes in version 0.2.2.28-beta - 2011-06-04</strong>
 Tor 0.2.2.28-beta makes great progress towards a new stable release: we
 fixed a big bug in whether relays stay in the consensus consistently,
 we moved closer to handling bridges and hidden services correctly,
 and we started the process of better handling the dreaded &quot;my Vidalia
 died, and now my Tor demands a password when I try to reconnect to it&quot;
 usability issue.</p>

<p><strong>Major bugfixes:</strong></p>

<ul>
<li>Don&#39;t decide to make a new descriptor when receiving a HUP signal.
This bug has caused a lot of 0.2.2.x relays to disappear from the
consensus periodically. Fixes the most common case of triggering
bug 1810; bugfix on 0.2.2.7-alpha.</li>
<li>Actually allow nameservers with IPv6 addresses. Fixes bug 2574.</li>
<li>Don&#39;t try to build descriptors if &quot;ORPort auto&quot; is set and we
don&#39;t know our actual ORPort yet. Fix for bug 3216; bugfix on
0.2.2.26-beta.</li>
<li>Resolve a crash that occurred when setting BridgeRelay to 1 with
accounting enabled. Fixes bug 3228; bugfix on 0.2.2.18-alpha.</li>
<li>Apply circuit timeouts to opened hidden-service-related circuits
based on the correct start time. Previously, we would apply the
circuit build timeout based on time since the circuit&#39;s creation;
it was supposed to be applied based on time since the circuit
entered its current state. Bugfix on 0.0.6; fixes part of bug 1297.</li>
<li>Use the same circuit timeout for client-side introduction
circuits as for other four-hop circuits, rather than the timeout
for single-hop directory-fetch circuits; the shorter timeout may
have been appropriate with the static circuit build timeout in
0.2.1.x and earlier, but caused many hidden service access attempts
to fail with the adaptive CBT introduced in 0.2.2.2-alpha. Bugfix
on 0.2.2.2-alpha; fixes another part of bug 1297.</li>
<li>In ticket 2511 we fixed a case where you could use an unconfigured
bridge if you had configured it as a bridge the last time you ran
Tor. Now fix another edge case: if you had configured it as a bridge
but then switched to a different bridge via the controller, you
would still be willing to use the old one. Bugfix on 0.2.0.1-alpha;
fixes bug 3321.</li>
</ul>

<p><strong>Major features:</strong></p>

<ul>
<li>Add an __OwningControllerProcess configuration option and a
TAKEOWNERSHIP control-port command. Now a Tor controller can ensure
that when it exits, Tor will shut down. Implements feature 3049.</li>
<li>If &quot;UseBridges 1&quot; is set and no bridges are configured, Tor will
now refuse to build any circuits until some bridges are set.
If &quot;UseBridges auto&quot; is set, Tor will use bridges if they are
configured and we are not running as a server, but otherwise will
make circuits as usual. The new default is &quot;auto&quot;. Patch by anonym,
so the Tails LiveCD can stop automatically revealing you as a Tor
user on startup.</li>
</ul>

<p><strong>Minor bugfixes:</strong></p>

<ul>
<li>Fix warnings from GCC 4.6&#39;s &quot;-Wunused-but-set-variable&quot; option.</li>
<li>Remove a trailing asterisk from &quot;exit-policy/default&quot; in the
output of the control port command &quot;GETINFO info/names&quot;. Bugfix
on 0.1.2.5-alpha.</li>
<li>Use a wide type to hold sockets when built for 64-bit Windows builds.
Fixes bug 3270.</li>
<li>Warn when the user configures two HiddenServiceDir lines that point
to the same directory. Bugfix on 0.0.6 (the version introducing
HiddenServiceDir); fixes bug 3289.</li>
<li>Remove dead code from rend_cache_lookup_v2_desc_as_dir. Fixes
part of bug 2748; bugfix on 0.2.0.10-alpha.</li>
<li>Log malformed requests for rendezvous descriptors as protocol
warnings, not warnings. Also, use a more informative log message
in case someone sees it at log level warning without prior
info-level messages. Fixes the other part of bug 2748; bugfix
on 0.2.0.10-alpha.</li>
<li>Clear the table recording the time of the last request for each
hidden service descriptor from each HS directory on SIGNAL NEWNYM.
Previously, we would clear our HS descriptor cache on SIGNAL
NEWNYM, but if we had previously retrieved a descriptor (or tried
to) from every directory responsible for it, we would refuse to
fetch it again for up to 15 minutes. Bugfix on 0.2.2.25-alpha;
fixes bug 3309.</li>
<li>Fix a log message that said &quot;bits&quot; while displaying a value in
bytes. Found by wanoskarnet. Fixes bug 3318; bugfix on
0.2.0.1-alpha.</li>
<li>When checking for 1024-bit keys, check for 1024 bits, not 128
bytes. This allows Tor to correctly discard keys of length 1017
through 1023. Bugfix on 0.0.9pre5.</li>
</ul>

<p><strong>Minor features:</strong></p>

<ul>
<li>Relays now log the reason for publishing a new relay descriptor,
so we have a better chance of hunting down instances of bug 1810.
Resolves ticket 3252.</li>
<li>Revise most log messages that refer to nodes by nickname to
instead use the &quot;$key=nickname at address&quot; format. This should be
more useful, especially since nicknames are less and less likely
to be unique. Resolves ticket 3045.</li>
<li>Log (at info level) when purging pieces of hidden-service-client
state because of SIGNAL NEWNYM.</li>
</ul>

<p><strong>Removed options:</strong></p>

<ul>
<li>Remove undocumented option &quot;-F&quot; from tor-resolve: it hasn&#39;t done
anything since 0.2.1.16-rc.</li>
</ul>

        </div>
      </section>
  </div>

</div>

<div class="comments"></div>

<script type="text/javascript" class="juvia">
(function() {
    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/blog/tor-02228-beta-and-02229-beta-are-out',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://secure-fortress-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);
    (document.getElementsByTagName('head')[0] ||
     document.getElementsByTagName('body')[0]).appendChild(s);
})();
</script>


            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
