<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tor 0.2.1.9-alpha released</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <a href="/"><img class="tor-logo" src="/assets/images/tor_logo.png" alt="Tor logo" /></a>
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>

            <!-- A wrapper for all the blog posts -->
<div class="posts">

  <div id="home">
      <section class="post">
        <header class="post-header">
          <h2 class="post-title"> <a href="">Tor 0.2.1.9-alpha released</a></h2>
          <p class="post-meta">
              By <a class="post-author" href="#">phobos</a> under
              
                <a class="post-category post-category-js" href="#">alpha release</a>
              
                <a class="post-category post-category-js" href="#">bug fixes</a>
              
                <a class="post-category post-category-js" href="#">deprecated features</a>
              
                <a class="post-category post-category-js" href="#">security fixes</a>
               |
              05 Jan 2009
          </p>
        </header>
        <div class="post-description">
          <p>Tor 0.2.1.9-alpha fixes many more bugs, some of them security-related.</p>

<p><a href="https://www.torproject.org/download.html.en" title="https://www.torproject.org/download.html.en">https://www.torproject.org/download.html.en</a></p>

<p>Changes in version 0.2.1.9-alpha - 2008-12-25
<strong>New directory authorities:</strong></p>

<ul>
<li>gabelmoo (the authority run by Karsten Loesing) now has a new
IP address.</li>
</ul>

<p><strong>Security fixes:</strong></p>

<ul>
<li>Never use a connection with a mismatched address to extend a
circuit, unless that connection is canonical. A canonical
connection is one whose address is authenticated by the router&#39;s
identity key, either in a NETINFO cell or in a router descriptor.</li>
<li>Avoid a possible memory corruption bug when receiving hidden service
descriptors. Bugfix on 0.2.1.6-alpha.</li>
</ul>

<p><strong>Major bugfixes:</strong></p>

<ul>
<li>Fix a logic error that would automatically reject all but the first
configured DNS server. Bugfix on 0.2.1.5-alpha. Possible fix for
part of bug 813/868. Bug spotted by coderman.</li>
<li>When a stream at an exit relay is in state &quot;resolving&quot; or
&quot;connecting&quot; and it receives an &quot;end&quot; relay cell, the exit relay
would silently ignore the end cell and not close the stream. If
the client never closes the circuit, then the exit relay never
closes the TCP connection. Bug introduced in 0.1.2.1-alpha;
reported by &quot;wood&quot;.</li>
<li>When we can&#39;t initialize DNS because the network is down, do not
automatically stop Tor from starting. Instead, retry failed
dns_inits() every 10 minutes, and change the exit policy to reject
*:* until one succeeds. Fixes bug 691.</li>
</ul>

<p><strong>Minor features:</strong></p>

<ul>
<li>Give a better error message when an overzealous init script says
&quot;sudo -u username tor --user username&quot;. Makes Bug 882 easier for
users to diagnose.</li>
<li>When a directory authority gives us a new guess for our IP address,
log which authority we used. Hopefully this will help us debug
the recent complaints about bad IP address guesses.</li>
<li>Detect svn revision properly when we&#39;re using git-svn.</li>
<li>Try not to open more than one descriptor-downloading connection
to an authority at once. This should reduce load on directory
authorities. Fixes bug 366.</li>
<li>Add cross-certification to newly generated certificates, so that
a signing key is enough information to look up a certificate.
Partial implementation of proposal 157.</li>
<li>Start serving certificates by (identity digest, signing key digest)
pairs. Partial implementation of proposal 157.</li>
<li>Clients now never report any stream end reason except &#39;MISC&#39;.
Implements proposal 148.</li>
<li>On platforms with a maximum syslog string length, truncate syslog
messages to that length ourselves, rather than relying on the
system to do it for us.</li>
<li>Optimize out calls to time(NULL) that occur for every IO operation,
or for every cell. On systems where time() is a slow syscall,
this fix will be slightly helpful.</li>
<li>Exit servers can now answer resolve requests for ip6.arpa addresses.</li>
<li>When we download a descriptor that we then immediately (as
a directory authority) reject, do not retry downloading it right
away. Should save some bandwidth on authorities. Fix for bug

<ol>
<li>Patch by Sebastian Hahn.</li>
</ol></li>
<li>When a download gets us zero good descriptors, do not notify
Tor that new directory information has arrived.</li>
<li>Avoid some nasty corner cases in the logic for marking connections
as too old or obsolete or noncanonical for circuits.</li>
</ul>

<p><strong>Minor features (controller):</strong></p>

<ul>
<li>New CONSENSUS_ARRIVED event to note when a new consensus has
been fetched and validated.</li>
<li>When we realize that another process has modified our cached
descriptors file, print out a more useful error message rather
than triggering an assertion. Fixes bug 885. Patch from Karsten.</li>
<li>Add an internal-use-only __ReloadTorrcOnSIGHUP option for
controllers to prevent SIGHUP from reloading the
configuration. Fixes bug 856.</li>
</ul>

<p><strong>Minor bugfixes:</strong></p>

<ul>
<li>Resume using the correct &quot;REASON=&quot; stream when telling the
controller why we closed a stream. Bugfix in 0.2.1.1-alpha.</li>
<li>When a canonical connection appears later in our internal list
than a noncanonical one for a given OR ID, always use the
canonical one. Bugfix on 0.2.0.12-alpha. Fixes bug 805.
Spotted by rovv.</li>
<li>Clip the MaxCircuitDirtiness config option to a minimum of 10
seconds. Warn the user if lower values are given in the
configuration. Bugfix on 0.1.0.1-rc. Patch by Sebastian.</li>
<li>Clip the CircuitBuildTimeout to a minimum of 30 seconds. Warn the
user if lower values are given in the configuration. Bugfix on
0.1.1.17-rc. Patch by Sebastian.</li>
<li>Fix a race condition when freeing keys shared between main thread
and CPU workers that could result in a memory leak. Bugfix on
0.1.0.1-rc. Fixes bug 889.</li>
</ul>

<p><strong>Minor bugfixes (hidden services):</strong></p>

<ul>
<li>Do not throw away existing introduction points on SIGHUP (bugfix on
0.0.6pre1); also, do not stall hidden services because we&#39;re
throwing away introduction points; bugfix on 0.2.1.7-alpha. Spotted
by John Brooks. Patch by Karsten. Fixes bug 874.</li>
<li>Fix a memory leak when we decline to add a v2 rendezvous
descriptor to the cache because we already had a v0 descriptor
with the same ID. Bugfix on 0.2.0.18-alpha.</li>
</ul>

<p><strong>Deprecated and removed features:</strong></p>

<ul>
<li>RedirectExits has been removed. It was deprecated since
0.2.0.3-alpha.</li>
<li>Finally remove deprecated &quot;EXTENDED_FORMAT&quot; controller feature. It
has been called EXTENDED_EVENTS since 0.1.2.4-alpha.</li>
<li>Cell pools are now always enabled; --disable-cell-pools is ignored.</li>
</ul>

<p><strong>Code simplifications and refactoring:</strong></p>

<ul>
<li>Rename the confusing or_is_obsolete field to the more appropriate
is_bad_for_new_circs, and move it to or_connection_t where it
belongs.</li>
<li>Move edge-only flags from connection_t to edge_connection_t: not
only is this better coding, but on machines of plausible alignment,
it should save 4-8 bytes per connection_t. &quot;Every little bit helps.&quot;</li>
<li>Rename ServerDNSAllowBrokenResolvConf to ServerDNSAllowBrokenConfig
for consistency; keep old option working for backward compatibility.</li>
<li>Simplify the code for finding connections to use for a circuit.</li>
</ul>

<p>Original signed announcement at <a href="http://archives.seul.org/or/talk/Jan-2009/msg00029.html" title="http://archives.seul.org/or/talk/Jan-2009/msg00029.html">http://archives.seul.org/or/talk/Jan-2009/msg00029.html</a></p>

        </div>
      </section>
  </div>

</div>



<div class="comments clearfix">
  <div class="comments-loading">
  <p><em>Comments will not load without Javascript enabled</em></p>
  </div>
</div>

<script type="text/javascript" class="juvia">
(function() {
    var loadingSection = document.body.querySelector('.comments-loading');
    var icon = '<p>Comments Loading...</p><img alt="loading comments" src="/assets/images/black-001-loading.gif">';

    loadingSection.innerHTML = loadingSection.innerHTML + icon;

    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/blog/tor-0.2.1.9-alpha-released',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://torblog-juvia-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);

    (document.getElementsByTagName('head')[0] ||
      document.getElementsByTagName('body')[0] && commentsLoaded).appendChild(s);

})();
</script>


            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
