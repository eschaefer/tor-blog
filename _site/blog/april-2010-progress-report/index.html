<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>April 2010 Progress Report</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <a href="/"><img class="tor-logo" src="/assets/images/tor_logo.png" alt="Tor logo" /></a>
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>

            <!-- A wrapper for all the blog posts -->
<div class="posts">

  <div id="home">
      <section class="post">
        <header class="post-header">
          <h2 class="post-title"> <a href="">April 2010 Progress Report</a></h2>
          <p class="post-meta">
              By <a class="post-author" href="#">phobos</a> under
              
                <a class="post-category post-category-js" href="#">alpha releases</a>
              
                <a class="post-category post-category-js" href="#">bug fixes</a>
              
                <a class="post-category post-category-js" href="#">enhancements</a>
              
                <a class="post-category post-category-js" href="#">metrics</a>
              
                <a class="post-category post-category-js" href="#">progress report</a>
              
                <a class="post-category post-category-js" href="#">tor browser bundle</a>
               |
              10 May 2010
          </p>
        </header>
        <div class="post-description">
          <p><strong>New releases</strong></p>

<ul>
<li>On April 24, we released Tor 0.2.2.13-alpha. This version addresses the recent connection and memory overload problems weâ€™ve been seeing on relays, especially relays with their DirPort open. If your relay has been crashing, or you turned it off because it used too many resources, give this release a try.</li>
</ul>

<p>o Major bugfixes:
 - Teach relays to defend themselves from connection overload. Relays
 now close idle circuits early if it looks like they were intended
 for directory fetches. Relays are also more aggressive about closing
 TLS connections that have no circuits on them. Such circuits are
 unlikely to be re-used, and tens of thousands of them were piling
 up at the fast relays, causing the relays to run out of sockets
 and memory. Bugfix on 0.2.0.22-rc (where clients started tunneling
 their directory fetches over TLS).</p>

<p>o Minor features:
 - Finally get rid of the deprecated and now harmful notion of &quot;clique
 mode&quot;, where directory authorities maintain TLS connections to
 every other relay.
 - Directory authorities now do an immediate reachability check as soon
 as they hear about a new relay. This change should slightly reduce
 the time between setting up a relay and getting listed as running
 in the consensus. It should also improve the time between setting
 up a bridge and seeing use by bridge users.
 - Directory authorities no longer launch a TLS connection to every
 relay as they startup. Now that we have 2k+ descriptors cached,
 the resulting network hiccup is becoming a burden. Besides,
 authorities already avoid voting about Running for the first half
 hour of their uptime.</p>

<ul>
<li>On April 20, 2010 we released Tor 0.2.2.12-alpha. This release fixes a critical bug in how directory authorities handle and vote on descriptors. It was causing relays to drop out of the consensus.</li>
</ul>

<p>Changes in version 0.2.2.12-alpha - 2010-04-20
 o Major bugfixes:
 - Many relays have been falling out of the consensus lately because
 not enough authorities know about their descriptor for them to get
 a majority of votes. When we deprecated the v2 directory protocol,
 we got rid of the only way that v3 authorities can hear from each
 other about other descriptors. Now authorities examine every v3
 vote for new descriptors, and fetch them from that authority. Bugfix
 on 0.2.1.23.
 - Fix two typos in tor_vasprintf() that broke the compile on Windows,
 and a warning in or.h related to bandwidth_weight_rule_t that
 prevented clean compile on OS X. Fixes bug 1363; bugfix on
 0.2.2.11-alpha.
 - Fix a segfault on relays when DirReqStatistics is enabled
 and 24 hours pass. Bug found by keb. Fixes bug 1365; bugfix on
 0.2.2.11-alpha.</p>

<p>o Minor bugfixes:
 - Demote a confusing TLS warning that relay operators might get when
 someone tries to talk to their OrPort. It is neither the operator&#39;s
 fault nor can they do anything about it. Fixes bug 1364; bugfix
 on 0.2.0.14-alpha.</p>

<ul>
<li>On April 15, we released Tor 0.2.2.11-alpha. It fixes yet another instance of broken OpenSSL libraries that was causing some relays to drop out of the consensus.</li>
</ul>

<p>o Major bugfixes:
 - Directory mirrors were fetching relay descriptors only from v2
 directory authorities, rather than v3 authorities like they should.
 Only 2 v2 authorities remain (compared to 7 v3 authorities), leading
 to a serious bottleneck. Bugfix on 0.2.0.9-alpha. Fixes bug 1324.
 - Fix a parsing error that made every possible value of
 CircPriorityHalflifeMsec get treated as &quot;1 msec&quot;. Bugfix
 on 0.2.2.7-alpha. Rename CircPriorityHalflifeMsec to
 CircuitPriorityHalflifeMsec, so authorities can tell newer relays
 about the option without breaking older ones.
 - Fix SSL renegotiation behavior on OpenSSL versions like on Centos
 that claim to be earlier than 0.9.8m, but which have in reality
 backported huge swaths of 0.9.8m or 0.9.8n renegotiation
 behavior. Possible fix for some cases of bug 1346.</p>

<p>o Minor features:
 - Experiment with a more aggressive approach to preventing clients
 from making one-hop exit streams. Exit relays who want to try it
 out can set &quot;RefuseUnknownExits 1&quot; in their torrc, and then look
 for &quot;Attempt by %s to open a stream&quot; log messages. Let us know
 how it goes!
 - Add support for statically linking zlib by specifying
 --enable-static-zlib, to go with our support for statically linking
 openssl and libevent. Resolves bug 1358.</p>

<p>o Minor bugfixes:
 - Fix a segfault that happens whenever a Tor client that is using
 libevent2&#39;s bufferevents gets a hup signal. Bugfix on 0.2.2.5-alpha;
 fixes bug 1341.
 - When we cleaned up the contrib/tor-exit-notice.html file, we left
 out the first line. Fixes bug 1295.
 - When building the manpage from a tarball, we required asciidoc, but
 the asciidoc -&gt; roff/html conversion was already done for the
 tarball. Make &#39;make&#39; complain only when we need asciidoc (either
 because we&#39;re compiling directly from git, or because we altered
 the asciidoc manpage in the tarball). Bugfix on 0.2.2.9-alpha.
 - When none of the directory authorities vote on any params, Tor
 segfaulted when trying to make the consensus from the votes. We
 didn&#39;t trigger the bug in practice, because authorities do include
 params in their votes. Bugfix on 0.2.2.10-alpha; fixes bug 1322.</p>

<p>o Testsuite fixes:
 - In the util/threads test, no longer free the test_mutex before all
 worker threads have finished. Bugfix on 0.2.1.6-alpha.
 - The master thread could starve the worker threads quite badly on
 certain systems, causing them to run only partially in the allowed
 window. This resulted in test failures. Now the master thread sleeps
 occasionally for a few microseconds while the two worker-threads
 compete for the mutex. Bugfix on 0.2.0.1-alpha.</p>

<ul>
<li>Tor Browser Bundle for GNU/Linux was updated throughout the month, from versions 1.0.1 to 1.0.4. The details are:
1.0.4: Released 2010-04-24
Update Tor to 0.2.2.13-alpha</li>
</ul>

<p>1.0.3: Released 2010-04-20
 Update Tor to 0.2.2.12-alpha</p>

<p>1.0.2: Released 2010-04-18
 Update Tor to 0.2.2.10-alpha
 Update to Vidalia 0.2.8</p>

<p>1.0.1: Released 2010-04-08
 Stop TBB from crashing when it tries to download files
 Update Torbutton to 1.2.5</p>

<ul>
<li>On April 4, we released Tor Browser Bundle for Windows version 1.3.4. The changes were an update to Firefox 3.5.9 to address some security issues, and update the Torbutton Firefox extension to 1.2.5.</li>
<li>On April 8, we released the latest Torbutton Firefox Extension version, 1.2.5. This release includes a number of bugfixes and some new features. The details are:</li>
</ul>

<p>* bugfix: bug 1169: Fix blank popup conflict with CoolPreviews
 * bugfix: bug 1246: Fix IST and other HH:30 timezone issues.
 * bugfix: bug 1219: Fix the toggle warning loop issue on settings change.
 * bugfix: bug 1321: Fix a session restore bug when closing the last window
 * bugfix: bug 1302: Update useragent to FF3.6.3 on WinNT6.
 * bugfix: bug 1157: Add logic to handle torbutton crashed state conflicts
 * bugfix: bug 1235: Improve the &#39;changed-state&#39; refresh warning message
 * bugfix: bug 1337: Bind alert windows to correct browser window
 * bugfix: bug 1055: Make the error console the default log output location
 * bugfix: bug 1032: Fix an exception in the localhost proxy filter
 * misc: Always tell a website our window size is rounded even if it&#39;s not
 * misc: Add some suggestions to warning about loading external content
 * new: Add option to always update Torbutton via Tor. On by default
 * new: Redirect Google queries elsewhere on captcha (default ixquick)
 * new: Strip identifying info off of Google searchbox queries</p>

<ul>
<li>On April 11, we released Vidalia 0.2.8. It contains updated translations, updates to the universal plug and play libraries, and better compatibility with newer versions of the Nokia Qt toolkit.</li>
</ul>

<p>o Stop using our custom dock icon implementation on OS X and just use
 QSystemTrayIcon everywhere. Fixes the build on Snow Leopard.
 (Ticket #562)
 o Update the bundled CA certificates to re-enable downloading bridges
 from bridges.torproject.org via SSL.
 o Include a pre-configured qt.conf file in the Mac OS X bundles that
 disable Qt plugin loading from the default directories. Otherwise,
 users who have Qt installed in a system-wide location would end up
 loading the libraries twice and crashing.
 o Include libgcc_s_dw2-1.dll in the Windows installers, since Qt 4.6 now
 depends on that DLL. Including the .dll is currently hardcoded, so the
 Windows installer must be built using Qt 4.6. (Ticket #555)
 o Update the included version of miniupnpc to 1.4.20100407.
 o Add Burmese and Thai UI translations.</p>

<p><strong>Design, develop, and implement enhancements that make Tor a better tool for users in censored countries.</strong></p>

<p>Karsten did major backend processing work on the <a href="http://metrics.torproject.org" title="http://metrics.torproject.org">http://metrics.torproject.org</a> data and website. These improvements allow for an automated process to update the various graphs and analyze the data sets. The whole system is better documented to assist someone in replicating the environment from scratch.</p>

<p><strong>Outreach and Advocacy</strong></p>

<ul>
<li>Jacob talked at SOURCE Boston about Tor, censorship circumvention, and running relays. <a href="http://www.sourceconference.com/" title="http://www.sourceconference.com/">http://www.sourceconference.com/</a>. Jacob&#39;s presentation can be found at <a href="https://svn.torproject.org/svn/projects/presentations/SOURCE-Boston-2010.pdf" title="https://svn.torproject.org/svn/projects/presentations/SOURCE-Boston-2010.pdf">https://svn.torproject.org/svn/projects/presentations/SOURCE-Boston-2010...</a>.</li>
<li>Andrew lectured about anonymous communications and Tor at the Portland campus of the University of Southern Maine.</li>
<li>Roger lectured about anonymous communications and Tor at the Albuquerque campus of the University of New Mexico.</li>
<li>Andrew was interviewed by Radio Free Asia: Vietnam about using Tor for online privacy and anonymity. <a href="http://www.rfa.org/vietnamese/in_depth/TOR-free-anti-censorship-tool-KhAn%20-04262010195030.html" title="http://www.rfa.org/vietnamese/in\_depth/TOR-free-anti-censorship-tool-KhAn%20-04262010195030.html">http://www.rfa.org/vietnamese/in_depth/TOR-free-anti-censorship-tool-KhA...</a></li>
</ul>

<p><strong>Preconfigured privacy (circumvention) bundles for USB or LiveCD.</strong></p>

<p>Released new versions of Tor Browser Bundle for GNU/Linux and Windows. See above for details.</p>

<p><strong>Scalability, load balancing, directory overhead, efficiency.</strong></p>

<p>From the 0.2.2.12-alpha release notes:
Directory authorities now do an immediate reachability check as soon as they hear about a new relay. This change should slightly reduce the time between setting up a relay and getting listed as running in the consensus. It should also improve the time between setting up a bridge and seeing use by bridge users.</p>

<p>In March, we changed a setting on a majority of the Directory Authorities called CircPriorityHalflifeMsec. Based upon research at the University of Waterloo, changing this setting could improve the overall performance of the network by fine tuning the earned weighted mean average bit bucket for better performance. Due to a bug in the CircPriorityHalflifeMsec parsing, the average latency in the network increased dramatically. At the same time, China unblocked the list of public and bridge relays, flooding hundreds of thousands of clients back into the network. It seems the network responded poorly to both events.</p>

<p><strong>More reliable (e.g. split) download mechanism.</strong></p>

<p>The GNU/Linux tor browser bundle with localizations was added to the get-tor email auto-responder.</p>

<p>Translation work, ultimately a browser-based approach.</p>

<ul>
<li>Updated text strings for the get-tor email auto-responder to make it easier for translators to complete the work.</li>
<li>Added new translations of Vietnamese, Greek and Serbian to all projects.</li>
<li>Many updated translated strings in German, Polish, Greek, Dutch, Finnish, Russian, Japanese, Chinese, French, Burmese, Spanish, Farsi, Arabic, Swedish, Turkish, and Norwegian.</li>
</ul>

        </div>
      </section>
  </div>

</div>

<div class="comments"></div>

<script type="text/javascript" class="juvia">
(function() {
    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/blog/april-2010-progress-report',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://secure-fortress-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);
    (document.getElementsByTagName('head')[0] ||
     document.getElementsByTagName('body')[0]).appendChild(s);
})();
</script>


            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
