<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Tor 0.2.2.16-alpha released</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="site">
          <div class="header">
            <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
            <a class="extra" href="/">home</a>
          </div>

          <h2>Tor 0.2.2.16-alpha released</h2>
<p class="meta">22 Sep 2010</p>

<div class="post">
<p>Tor 0.2.2.16-alpha fixes a variety of old stream fairness bugs (most<br>
evident at exit relays), and also continues to resolve all the little<br>
bugs that have been filling up the bug tracker lately.</p>

<p><a href="https://www.torproject.org/download.html.en" title="https://www.torproject.org/download.html.en">https://www.torproject.org/download.html.en</a></p>

<p>Packages will be appearing over the next few days or weeks (except<br>
on Windows, which apparently doesn&#39;t build -- stay tuned for an<br>
0.2.2.17-alpha in that case).</p>

<p>Changes in version 0.2.2.16-alpha - 2010-09-17<br>
 o Major bugfixes (stream-level fairness):<br>
 - When receiving a circuit-level SENDME for a blocked circuit, try<br>
 to package cells fairly from all the streams that had previously<br>
 been blocked on that circuit. Previously, we had started with the<br>
 oldest stream, and allowed each stream to potentially exhaust<br>
 the circuit&#39;s package window. This gave older streams on any<br>
 given circuit priority over newer ones. Fixes bug 1937. Detected<br>
 originally by Camilo Viecco. This bug was introduced before the<br>
 first Tor release, in svn commit r152: it is the new winner of<br>
 the longest-lived bug prize.<br>
 - When the exit relay got a circuit-level sendme cell, it started<br>
 reading on the exit streams, even if had 500 cells queued in the<br>
 circuit queue already, so the circuit queue just grew and grew in<br>
 some cases. We fix this by not re-enabling reading on receipt of a<br>
 sendme cell when the cell queue is blocked. Fixes bug 1653. Bugfix<br>
 on 0.2.0.1-alpha. Detected by Mashael AlSabah. Original patch by<br>
 &quot;yetonetime&quot;.<br>
 - Newly created streams were allowed to read cells onto circuits,<br>
 even if the circuit&#39;s cell queue was blocked and waiting to drain.<br>
 This created potential unfairness, as older streams would be<br>
 blocked, but newer streams would gladly fill the queue completely.<br>
 We add code to detect this situation and prevent any stream from<br>
 getting more than one free cell. Bugfix on 0.2.0.1-alpha. Partially<br>
 fixes bug 1298.</p>

<p>o Minor features:<br>
 - Update to the September 1 2010 Maxmind GeoLite Country database.<br>
 - Warn when CookieAuthFileGroupReadable is set but CookieAuthFile is<br>
 not. This would lead to a cookie that is still not group readable.<br>
 Closes bug 1843. Suggested by katmagic.<br>
 - When logging a rate-limited warning, we now mention how many messages<br>
 got suppressed since the last warning.<br>
 - Add new &quot;perconnbwrate&quot; and &quot;perconnbwburst&quot; consensus params to<br>
 do individual connection-level rate limiting of clients. The torrc<br>
 config options with the same names trump the consensus params, if<br>
 both are present. Replaces the old &quot;bwconnrate&quot; and &quot;bwconnburst&quot;<br>
 consensus params which were broken from 0.2.2.7-alpha through<br>
 0.2.2.14-alpha. Closes bug 1947.<br>
 - When a router changes IP address or port, authorities now launch<br>
 a new reachability test for it. Implements ticket 1899.<br>
 - Make the formerly ugly &quot;2 unknown, 7 missing key, 0 good, 0 bad,<br>
 2 no signature, 4 required&quot; messages about consensus signatures<br>
 easier to read, and make sure they get logged at the same severity<br>
 as the messages explaining which keys are which. Fixes bug 1290.<br>
 - Don&#39;t warn when we have a consensus that we can&#39;t verify because<br>
 of missing certificates, unless those certificates are ones<br>
 that we have been trying and failing to download. Fixes bug 1145.<br>
 - If you configure your bridge with a known identity fingerprint,<br>
 and the bridge authority is unreachable (as it is in at least<br>
 one country now), fall back to directly requesting the descriptor<br>
 from the bridge. Finishes the feature started in 0.2.0.10-alpha;<br>
 closes bug 1138.<br>
 - When building with --enable-gcc-warnings on OpenBSD, disable<br>
 warnings in system headers. This makes --enable-gcc-warnings<br>
 pass on OpenBSD 4.8.</p>

<p>o Minor bugfixes (on 0.2.1.x and earlier):<br>
 - Authorities will now attempt to download consensuses if their<br>
 own efforts to make a live consensus have failed. This change<br>
 means authorities that restart will fetch a valid consensus, and<br>
 it means authorities that didn&#39;t agree with the current consensus<br>
 will still fetch and serve it if it has enough signatures. Bugfix<br>
 on 0.2.0.9-alpha; fixes bug 1300.<br>
 - Ensure DNS requests launched by &quot;RESOLVE&quot; commands from the<br>
 controller respect the __LeaveStreamsUnattached setconf options. The<br>
 same goes for requests launched via DNSPort or transparent<br>
 proxying. Bugfix on 0.2.0.1-alpha; fixes bug 1525.<br>
 - Allow handshaking OR connections to take a full KeepalivePeriod<br>
 seconds to handshake. Previously, we would close them after<br>
 IDLE_OR_CONN_TIMEOUT (180) seconds, the same timeout as if they<br>
 were open. Bugfix on 0.2.1.26; fixes bug 1840. Thanks to mingw-san<br>
 for analysis help.<br>
 - Rate-limit &quot;Failed to hand off onionskin&quot; warnings.<br>
 - Never relay a cell for a circuit we have already destroyed.<br>
 Between marking a circuit as closeable and finally closing it,<br>
 it may have been possible for a few queued cells to get relayed,<br>
 even though they would have been immediately dropped by the next<br>
 OR in the circuit. Fixes bug 1184; bugfix on 0.2.0.1-alpha.<br>
 - Never queue a cell for a circuit that&#39;s already been marked<br>
 for close.<br>
 - Never vote for a server as &quot;Running&quot; if we have a descriptor for<br>
 it claiming to be hibernating, and that descriptor was published<br>
 more recently than our last contact with the server. Bugfix on<br>
 0.2.0.3-alpha; fixes bug 911.<br>
 - Squash a compile warning on OpenBSD. Reported by Tas; fixes<br>
 bug 1848.</p>

<p>o Minor bugfixes (on 0.2.2.x):<br>
 - Fix a regression introduced in 0.2.2.7-alpha that marked relays<br>
 down if a directory fetch fails and you&#39;ve configured either<br>
 bridges or EntryNodes. The intent was to mark the relay as down<br>
 _unless_ you&#39;re using bridges or EntryNodes, since if you are<br>
 then you could quickly run out of entry points.<br>
 - Fix the Windows directory-listing code. A bug introduced in<br>
 0.2.2.14-alpha could make Windows directory servers forget to load<br>
 some of their cached v2 networkstatus files.<br>
 - Really allow clients to use relays as bridges. Fixes bug 1776;<br>
 bugfix on 0.2.2.15-alpha.<br>
 - Demote a warn to info that happens when the CellStatistics option<br>
 was just enabled. Bugfix on 0.2.2.15-alpha; fixes bug 1921.<br>
 Reported by Moritz Bartl.<br>
 - On Windows, build correctly either with or without Unicode support.<br>
 This is necessary so that Tor can support fringe platforms like<br>
 Windows 98 (which has no Unicode), or Windows CE (which has no<br>
 non-Unicode). Bugfix on 0.2.2.14-alpha; fixes bug 1797.</p>

<p>o Testing<br>
 - Add a unit test for cross-platform directory-listing code.</p>

<p>The original announcement is <a href="http://archives.seul.org/or/talk/Sep-2010/msg00108.html" title="http://archives.seul.org/or/talk/Sep-2010/msg00108.html">http://archives.seul.org/or/talk/Sep-2010/msg00108.html</a></p>

</div>
<p>- phobos</p>


          <div class="footer">
            <div class="contact">
              <p>
                Your Name<br />
                What You Are<br />
                you@example.com
              </p>
            </div>
            <div class="contact">
              <p>
                <a href="https://github.com/yourusername">github.com/yourusername</a><br />
                <a href="https://twitter.com/yourusername">twitter.com/yourusername</a><br />
              </p>
            </div>
          </div>
        </div>

    </body>
</html>
