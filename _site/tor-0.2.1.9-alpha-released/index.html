<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Tor 0.2.1.9-alpha released</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <img class="tor-logo" src="/assets/images/tor_logo.png" />
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            <!-- A wrapper for all the blog posts -->
            <div class="posts">
                <h1 class="content-subhead">Recent Posts</h1>


               <h2>Tor 0.2.1.9-alpha released</h2>
<p class="meta">05 Jan 2009</p>

<div class="event">
<p>Tor 0.2.1.9-alpha fixes many more bugs, some of them security-related.</p>

<p><a href="https://www.torproject.org/download.html.en" title="https://www.torproject.org/download.html.en">https://www.torproject.org/download.html.en</a></p>

<p>Changes in version 0.2.1.9-alpha - 2008-12-25<br>
<strong>New directory authorities:</strong></p>

<ul>
<li>gabelmoo (the authority run by Karsten Loesing) now has a new<br>
IP address.</li>
</ul>

<p><strong>Security fixes:</strong></p>

<ul>
<li>Never use a connection with a mismatched address to extend a<br>
circuit, unless that connection is canonical. A canonical<br>
connection is one whose address is authenticated by the router&#39;s<br>
identity key, either in a NETINFO cell or in a router descriptor.</li>
<li>Avoid a possible memory corruption bug when receiving hidden service<br>
descriptors. Bugfix on 0.2.1.6-alpha.</li>
</ul>

<p><strong>Major bugfixes:</strong></p>

<ul>
<li>Fix a logic error that would automatically reject all but the first<br>
configured DNS server. Bugfix on 0.2.1.5-alpha. Possible fix for<br>
part of bug 813/868. Bug spotted by coderman.</li>
<li>When a stream at an exit relay is in state &quot;resolving&quot; or<br>
&quot;connecting&quot; and it receives an &quot;end&quot; relay cell, the exit relay<br>
would silently ignore the end cell and not close the stream. If<br>
the client never closes the circuit, then the exit relay never<br>
closes the TCP connection. Bug introduced in 0.1.2.1-alpha;<br>
reported by &quot;wood&quot;.</li>
<li>When we can&#39;t initialize DNS because the network is down, do not<br>
automatically stop Tor from starting. Instead, retry failed<br>
dns_inits() every 10 minutes, and change the exit policy to reject<br>
*:* until one succeeds. Fixes bug 691.</li>
</ul>

<p><strong>Minor features:</strong></p>

<ul>
<li>Give a better error message when an overzealous init script says<br>
&quot;sudo -u username tor --user username&quot;. Makes Bug 882 easier for<br>
users to diagnose.</li>
<li>When a directory authority gives us a new guess for our IP address,<br>
log which authority we used. Hopefully this will help us debug<br>
the recent complaints about bad IP address guesses.</li>
<li>Detect svn revision properly when we&#39;re using git-svn.</li>
<li>Try not to open more than one descriptor-downloading connection<br>
to an authority at once. This should reduce load on directory<br>
authorities. Fixes bug 366.</li>
<li>Add cross-certification to newly generated certificates, so that<br>
a signing key is enough information to look up a certificate.<br>
Partial implementation of proposal 157.</li>
<li>Start serving certificates by (identity digest, signing key digest)<br>
pairs. Partial implementation of proposal 157.</li>
<li>Clients now never report any stream end reason except &#39;MISC&#39;.<br>
Implements proposal 148.</li>
<li>On platforms with a maximum syslog string length, truncate syslog<br>
messages to that length ourselves, rather than relying on the<br>
system to do it for us.</li>
<li>Optimize out calls to time(NULL) that occur for every IO operation,<br>
or for every cell. On systems where time() is a slow syscall,<br>
this fix will be slightly helpful.</li>
<li>Exit servers can now answer resolve requests for ip6.arpa addresses.</li>
<li>When we download a descriptor that we then immediately (as<br>
a directory authority) reject, do not retry downloading it right<br>
away. Should save some bandwidth on authorities. Fix for bug<br>

<ol>
<li>Patch by Sebastian Hahn.</li>
</ol></li>
<li>When a download gets us zero good descriptors, do not notify<br>
Tor that new directory information has arrived.</li>
<li>Avoid some nasty corner cases in the logic for marking connections<br>
as too old or obsolete or noncanonical for circuits.</li>
</ul>

<p><strong>Minor features (controller):</strong></p>

<ul>
<li>New CONSENSUS_ARRIVED event to note when a new consensus has<br>
been fetched and validated.</li>
<li>When we realize that another process has modified our cached<br>
descriptors file, print out a more useful error message rather<br>
than triggering an assertion. Fixes bug 885. Patch from Karsten.</li>
<li>Add an internal-use-only __ReloadTorrcOnSIGHUP option for<br>
controllers to prevent SIGHUP from reloading the<br>
configuration. Fixes bug 856.</li>
</ul>

<p><strong>Minor bugfixes:</strong></p>

<ul>
<li>Resume using the correct &quot;REASON=&quot; stream when telling the<br>
controller why we closed a stream. Bugfix in 0.2.1.1-alpha.</li>
<li>When a canonical connection appears later in our internal list<br>
than a noncanonical one for a given OR ID, always use the<br>
canonical one. Bugfix on 0.2.0.12-alpha. Fixes bug 805.<br>
Spotted by rovv.</li>
<li>Clip the MaxCircuitDirtiness config option to a minimum of 10<br>
seconds. Warn the user if lower values are given in the<br>
configuration. Bugfix on 0.1.0.1-rc. Patch by Sebastian.</li>
<li>Clip the CircuitBuildTimeout to a minimum of 30 seconds. Warn the<br>
user if lower values are given in the configuration. Bugfix on<br>
0.1.1.17-rc. Patch by Sebastian.</li>
<li>Fix a race condition when freeing keys shared between main thread<br>
and CPU workers that could result in a memory leak. Bugfix on<br>
0.1.0.1-rc. Fixes bug 889.</li>
</ul>

<p><strong>Minor bugfixes (hidden services):</strong></p>

<ul>
<li>Do not throw away existing introduction points on SIGHUP (bugfix on<br>
0.0.6pre1); also, do not stall hidden services because we&#39;re<br>
throwing away introduction points; bugfix on 0.2.1.7-alpha. Spotted<br>
by John Brooks. Patch by Karsten. Fixes bug 874.</li>
<li>Fix a memory leak when we decline to add a v2 rendezvous<br>
descriptor to the cache because we already had a v0 descriptor<br>
with the same ID. Bugfix on 0.2.0.18-alpha.</li>
</ul>

<p><strong>Deprecated and removed features:</strong></p>

<ul>
<li>RedirectExits has been removed. It was deprecated since<br>
0.2.0.3-alpha.</li>
<li>Finally remove deprecated &quot;EXTENDED_FORMAT&quot; controller feature. It<br>
has been called EXTENDED_EVENTS since 0.1.2.4-alpha.</li>
<li>Cell pools are now always enabled; --disable-cell-pools is ignored.</li>
</ul>

<p><strong>Code simplifications and refactoring:</strong></p>

<ul>
<li>Rename the confusing or_is_obsolete field to the more appropriate<br>
is_bad_for_new_circs, and move it to or_connection_t where it<br>
belongs.</li>
<li>Move edge-only flags from connection_t to edge_connection_t: not<br>
only is this better coding, but on machines of plausible alignment,<br>
it should save 4-8 bytes per connection_t. &quot;Every little bit helps.&quot;</li>
<li>Rename ServerDNSAllowBrokenResolvConf to ServerDNSAllowBrokenConfig<br>
for consistency; keep old option working for backward compatibility.</li>
<li>Simplify the code for finding connections to use for a circuit.</li>
</ul>

<p>Original signed announcement at <a href="http://archives.seul.org/or/talk/Jan-2009/msg00029.html" title="http://archives.seul.org/or/talk/Jan-2009/msg00029.html">http://archives.seul.org/or/talk/Jan-2009/msg00029.html</a></p>

</div>


            </div>

            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
