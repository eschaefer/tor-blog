<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>A closer look at the Great Firewall of China</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
    <meta name="robots" content="noindex" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/styles.css">

    <!--[if lte IE 8]>
      <link rel="stylesheet" href="css/blog-old-ie.css">
    <![endif]-->
    <!--[if lt IE 9]>
      <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
    <![endif]-->
</head>
<body>

<body>
<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">
            <a href="/"><img class="tor-logo" src="/assets/images/tor_logo.png" alt="Tor logo" /></a>
            <h1 class="brand-title">The Tor Project Blog</h1>
            <h2 class="brand-tagline">News and events from Tor</h2>

            <nav class="nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="pure-button" href="/events/">Events</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/overview">About Tor</a>
                    </li>
                    <li class="nav-item">
                        <a class="pure-button" href="https://www.torproject.org/donate/donate">Donate</a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="content pure-u-1 pure-u-md-3-4">
        <div>

            <!-- A wrapper for all the blog posts -->
<div class="posts">

  <div id="home">
      <section class="post">
        <header class="post-header">
          <h2 class="post-title"> <a href="">A closer look at the Great Firewall of China</a></h2>
          <p class="post-meta">
              By <a class="post-author" href="#">phw</a> under
              
                <a class="post-category post-category-js" href="#">censorship</a>
              
                <a class="post-category post-category-js" href="#">censorship circumvention</a>
              
                <a class="post-category post-category-js" href="#">dpi</a>
              
                <a class="post-category post-category-js" href="#">GFW</a>
               |
              06 Oct 2014
          </p>
        </header>
        <div class="post-description">
          <p>Over the last years, we learned a lot about how the Great Firewall of China <a href="https://blog.torproject.org/blog/knock-knock-knockin-bridges-doors">is</a> <a href="http://www.cs.kau.se/philwint/gfw/">blocking</a> <a href="http://arxiv.org/pdf/1312.5739v1.pdf">Tor</a>. Some questions remained unanswered, however. Roya, Mueen, Jed, and I just published a <a href="http://www.cs.unm.edu/%7Eroyaen/gfw/">project</a> which seeks to answer some of these open questions. Being curious as we are, we tried to find answers to the following questions:</p>

<ul>
<li>Is the filtering decentralised (i.e., happening in provinces) or centralised (i.e., happening in Internet exchange points (IXP))?</li>
<li>Are there any temporal patterns in the filtering? Or in other words, are there certain times when people are more likely to be able to connect to Tor?</li>
<li>Similarly, are there any spatial patterns? Are folks in some special regions of China able to connect to Tor while others cannot?</li>
<li>When a computer in China tries to connect to a Tor relay, what part of the TCP handshake is blocked?</li>
</ul>

<p>It turns out that some of these questions are quite tricky to answer. For example, to find spatial patterns, we need to be able to measure the connectivity between <em>many</em> Tor relays and <em>many</em> clients in China. However, we are not able to control <em>even a single</em> one of these machines. So how do we proceed from here? As so often, side channels come to the rescue! In particular, we made use of two neat network measurement side channels which are the <a href="http://arxiv.org/pdf/1312.5739v1.pdf">hybrid idle scan</a> and the SYN backlog scan. The backlog scan is a new side channel we discovered and discuss in our paper. Equipped with these two powerful techniques, we were able to infer if there is packet loss between relay A and client B even though we cannot control A and B.</p>

<p>You might notice that our measurement techniques are quite different from most other Internet censorship studies which rely on machines inside the censoring country. While our techniques give us a lot more geographical coverage, they come at a price which is flexibility; we are limited to measuring Internet filtering on the IP layer. More sophisticated filtering techniques such as deep packet inspection remain outside our scope.</p>

<p>Now what we did was to measure the connectivity between several dozen Tor relays and computers in China over four weeks which means that we collected plenty of data points, each of which telling us &quot;was A able to talk to B at time T?&quot;. These data points reveal a number of interesting things:</p>

<ul>
<li>It appears that many IP addresses inside the China Education and Research Network (CERNET) are able to connect to at least our Tor relay.</li>
<li>Apart from the CERNET netblock, the filtering seems to be quite effective despite occasional country-wide downtimes.</li>
<li>It seems like the filtering is centralised at the IXP level instead of being decentralised at the provincial level. That makes sense from the censor&#39;s point of view because it is cheap, effective, and easy to control.</li>
</ul>

<p>Now what does all of this mean for Tor users? Our results show that China still has a tight grip on its communication infrastructure, especially on the IP and TCP layer. That is why our circumvention efforts mostly focus on the application layer (with <a href="https://trac.torproject.org/projects/tor/wiki/doc/meek">meek</a> being an exception) and pluggable transport protocols such as <a href="http://www.cs.kau.se/philwint/scramblesuit/">ScrambleSuit</a> (which is now part of the experimental version of <a href="https://www.torproject.org/projects/torbrowser.html.en#downloads-alpha">TorBrowser</a>) and <a href="https://gitweb.torproject.org/pluggable-transports/obfs4.git">obfs4</a> are specifically designed to thwart the firewall&#39;s <a href="http://www.cs.kau.se/philwint/gfw/">active probing attacks</a>.</p>

        </div>
      </section>
  </div>

</div>



<div class="comments clearfix">
  <div class="comments-loading">
  <p><em>Comments will not load without Javascript enabled</em></p>
  </div>
</div>

<script type="text/javascript" class="juvia">
(function() {
    var loadingSection = document.body.querySelector('.comments-loading');
    var icon = '<p>Comments Loading...</p><img alt="loading comments" src="/assets/images/comments-loading.gif">';

    loadingSection.innerHTML = loadingSection.innerHTML + icon;

    var options = {
        container    : '.comments',
        site_key     : 'im3x57usjcg72fkm6lyqzwzt7vaoi4g',
        topic_key    : '/closer-look-great-firewall-china',
        topic_url    : location.href,
        topic_title  : document.title || location.href,
        include_base : !window.Juvia,
        include_css  : !window.Juvia,
        comment_order: 'latest-first'
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://torblog-juvia-4525.herokuapp.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);

    (document.getElementsByTagName('head')[0] ||
      document.getElementsByTagName('body')[0] && commentsLoaded).appendChild(s);

})();
</script>


            <div class="footer">
                <div class="pure-menu pure-menu-horizontal pure-menu-open">
                    <ul>
                        <li><a href="http://purecss.io/">About</a></li>
                        <li><a href="http://twitter.com/yuilibrary/">Twitter</a></li>
                        <li><a href="http://github.com/yahoo/pure/">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
